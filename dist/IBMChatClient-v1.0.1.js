!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("IBMChat",[],e):"object"==typeof exports?exports.IBMChat=e():t.IBMChat=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),i=t[e[0]];return function(t,e,r){i.apply(this,[t,e,r].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){n(56);var i=n(59);t.exports={init:i.init,restart:i.restart,destroy:i.destroy,send:i.send,receive:i.receive,sendMock:i.sendMock,sendSilently:i.sendSilently,registerLayout:i.registerLayout,focusInput:i.focusInput,disableInput:i.disableInput,enableInput:i.enableInput,subscribe:i.subscribe,publish:i.publish,profile:{get:i.profile.get,set:i.profile.set,has:i.profile.has,clear:i.profile.clear,"delete":i.profile["delete"],forEach:i.profile.forEach},currentSubscriptions:i.currentSubscriptions,debug:i.debug}},function(t,e,n){function i(t){switch(t){case!0:u("send",{message:"success",silent:!0});break;case!1:u("send",{message:"failure",silent:!0});break;default:u("send",{message:"cancel",silent:!0})}}function r(){d=[]}function o(t,e,n){void 0===typeof n&&(n=e)}function a(){return d.slice(0)}function s(t){for(var e=a(),n=0;n<e.length;n++){var i=e[n];if(i&&i.event===t)return!0}return!1}function c(t,e,n){void 0===typeof n&&(n=e);var i=d.push({event:t,handler:e.bind(n)})-1;return{remove:function(){delete d[i]}}}function u(t,e,n){for(var i=l.getState(),r=!1,o=0;o<d.length;o++)d[o]&&d[o].event===t&&(i.DEBUG&&(r=!0,console.log("Subscription to "+t+" was called: ",e)),d[o].handler.call(void 0,e,n));i.DEBUG&&t.indexOf("layout")==-1&&!r&&console.warn("Nothing is subscribed to "+t)}var l=n(2),d=[];t.exports={destroy:r,unsubscribe:o,currentSubscriptions:a,hasSubscription:s,subscribe:c,publish:u,completeEvent:i}},function(t,e,n){function i(){return l}function r(){l={},o({})}function o(t){l=d({},l,t),l.DEBUG&&(u.push(l),console.log("STATE HISTORY: ",u),console.log("NEW STATE: ",l))}function a(){var t=i();return t.styles}function s(){var t=i();return t.profile||{}}function c(t){o({profile:d({},s(),t)})}var u=[],l={},d=n(5);t.exports={getState:i,setState:o,destroyState:r,getProfile:s,setProfile:c,getStyles:a}},function(t,e,n){function i(t,e){t.setAttribute("class","IBMChat-ibm-spinner IBMChat-input-loading IBMChat-"+e+"-spin")}function r(){var t=d.getState(),e=".chatID-"+t.chatID,n=e+" .IBMChat-default-colors {\n  background-color: "+t.styles.background+";\n  color: "+t.styles.text+";\n}\n"+e+" .IBMChat-secondary-colors {\n  background-color: "+t.styles.secondaryBackground+";\n  color: "+t.styles.secondaryText+";\n}\n"+e+" .IBMChat-accent-colors {\n  background-color: "+t.styles.accentBackground+";\n  color: "+t.styles.accentText+";\n}\n"+e+" .IBMChat-input-colors {\n  background-color: "+t.styles.inputBackground+";\n  color: "+t.styles.inputText+";\n}\n"+e+" .IBMChat-watson-message-theme {\n\tborder-left: 3px solid "+t.styles.accentBackground+";\n}\n"+e+" a,\n"+e+" a:hover,\n"+e+" a:visited,\n"+e+" a:active {\n\tcolor: "+t.styles.link+";\n}\n"+e+" .IBMChat-chat-textbox-theme {\n  border-bottom: solid 1px "+t.styles.text+";\n}\n"+e+" .IBMChat-chat-textbox-theme:focus {\n  border-bottom: solid 2px "+t.styles.accentBackground+";\n}\n"+e+" .IBMChat-ibm-spinner {\n\tstroke: "+t.styles.accentBackground+";\n}";return n}function o(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||t.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(r,o)}}function a(t){const e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t,e,n){return t.split(e).join(n)}function c(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"IBMChat-"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}function u(){var t=r(),e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}function l(t,e){var n=" "+e+" ";return(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(n)>-1}var d=n(2),h={show:function(t){i(t,"init")},hide:function(t){i(t,"end")}};t.exports={debounce:o,serialize:a,replaceAll:s,hasClass:l,getUUID:c,attachStyles:u,spinner:h}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],e))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(u(i.parts[o],e));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],a=r[1],s=r[2],c=r[3],u={css:a,media:s,sourceMap:c};n[o]?n[o].parts.push(u):e.push(n[o]={id:o,parts:[u]})}return e}function o(t,e){var n=v(),i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function u(t,e){var n,i,r;if(e.singleton){var o=b++;n=g||(g=s(e)),i=l.bind(null,n,o,!1),r=l.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),i=h.bind(null,n),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=d.bind(null,n),r=function(){a(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function l(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var p={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=f(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=r(t);return i(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],c=p[s.id];c.refs--,o.push(c)}if(t){var u=r(t);i(u,e)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete p[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(8),r=n(21),o=n(22),a=n(6),s=n(10),c=n(32),u=Object.prototype,l=u.hasOwnProperty,d=u.propertyIsEnumerable,h=!d.call({valueOf:1},"valueOf"),p=o(function(t,e){if(h||s(e)||a(e))return void r(e,c(e),t);for(var n in e)l.call(e,n)&&i(t,n,e[n])});t.exports=p},function(t,e,n){function i(t){return null!=t&&o(t.length)&&!r(t)}var r=n(29),o=n(30);t.exports=i},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(22)},function(t,e){"use strict";function n(t){return"[object Array]"===x.call(t)}function i(t){return"[object ArrayBuffer]"===x.call(t)}function r(t){return"undefined"!=typeof FormData&&t instanceof FormData}function o(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function s(t){return"number"==typeof t}function c(t){return"undefined"==typeof t}function u(t){return null!==t&&"object"==typeof t}function l(t){return"[object Date]"===x.call(t)}function d(t){return"[object File]"===x.call(t)}function h(t){return"[object Blob]"===x.call(t)}function p(t){return"[object Function]"===x.call(t)}function f(t){return u(t)&&p(t.pipe)}function m(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function v(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function b(t,e){if(null!==t&&"undefined"!=typeof t)if("object"==typeof t||n(t)||(t=[t]),n(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(null,t[o],o,t)}function y(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=y(e[n],t):e[n]=t}for(var e={},n=0,i=arguments.length;n<i;n++)b(arguments[n],t);return e}var x=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:i,isFormData:r,isArrayBufferView:o,isString:a,isNumber:s,isObject:u,isUndefined:c,isDate:l,isFile:d,isBlob:h,isFunction:p,isStream:f,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:b,merge:y,trim:v}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):v=-1,f.length&&s())}function s(){if(!m){var t=r(a);m=!0;for(var e=f.length;e;){for(p=f,f=[];++v<e;)p&&p[v].run();v=-1,e=f.length}p=null,m=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,d,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var p,f=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||m||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";var i=n(1),r=n(12),o=n(18),a=n(4),s=n(16),c="undefined"!=typeof window&&window.btoa||n(11),u=n(19);t.exports=function(t,l,d){var h=d.data,p=d.headers;i.isFormData(h)&&delete p["Content-Type"];var f=new XMLHttpRequest,m="onreadystatechange",v=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(d.url)||(f=new window.XDomainRequest,m="onload",v=!0,f.onprogress=function(){},f.ontimeout=function(){}),d.auth){var g=d.auth.username||"",b=d.auth.password||"";p.Authorization="Basic "+c(g+":"+b)}if(f.open(d.method.toUpperCase(),r(d.url,d.params,d.paramsSerializer),!0),f.timeout=d.timeout,f[m]=function(){if(f&&(4===f.readyState||v)&&0!==f.status){var e="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,n=d.responseType&&"text"!==d.responseType?f.response:f.responseText,i={data:a(n,e,d.transformResponse),status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:e,config:d,request:f};u(t,l,i),f=null}},f.onerror=function(){l(new Error("Network Error")),f=null},f.ontimeout=function(){var t=new Error("timeout of "+d.timeout+"ms exceeded");t.timeout=d.timeout,t.code="ECONNABORTED",l(t),f=null},i.isStandardBrowserEnv()){var y=n(14),x=d.withCredentials||s(d.url)?y.read(d.xsrfCookieName):void 0;x&&(p[d.xsrfHeaderName]=x)}if("setRequestHeader"in f&&i.forEach(p,function(t,e){"undefined"==typeof h&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)}),d.withCredentials&&(f.withCredentials=!0),d.responseType)try{f.responseType=d.responseType}catch(C){if("json"!==f.responseType)throw C}d.progress&&("post"===d.method||"put"===d.method?f.upload.addEventListener("progress",d.progress):"get"===d.method&&f.addEventListener("progress",d.progress)),void 0===h&&(h=null),f.send(h)}}).call(e,n(2))},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";function i(t){this.defaults=o.merge({},t),this.interceptors={request:new s,response:new s}}var r=n(9),o=n(1),a=n(8),s=n(7),c=n(15),u=n(13),l=n(10),d=n(4);i.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),t=o.merge(r,this.defaults,{method:"get"},t),t.baseURL&&!c(t.url)&&(t.url=u(t.baseURL,t.url)),t.withCredentials=t.withCredentials||this.defaults.withCredentials,t.data=d(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n};var h=new i(r),p=t.exports=l(i.prototype.request,h);p.request=l(i.prototype.request,h),p.Axios=i,p.defaults=h.defaults,p.interceptors=h.interceptors,p.create=function(t){return new i(t)},p.all=function(t){return Promise.all(t)},p.spread=n(20),o.forEach(["delete","get","head"],function(t){i.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))},p[t]=l(i.prototype[t],h)}),o.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))},p[t]=l(i.prototype[t],h)})},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(1);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){(function(e){"use strict";t.exports=function(t){return new Promise(function(i,r){try{var o;"function"==typeof t.adapter?o=t.adapter:"undefined"!=typeof XMLHttpRequest?o=n(3):"undefined"!=typeof e&&(o=n(3)),"function"==typeof o&&o(i,r,t)}catch(a){r(a)}})}}).call(e,n(2))},function(t,e,n){"use strict";function i(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n(1),o=n(17),a=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"};t.exports={transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(a,"");try{t=JSON.parse(t)}catch(e){}}return t}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:r.merge(s),post:r.merge(s),put:r.merge(s)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e){"use strict";function n(){this.message="String contains an invalid character"}function i(t){for(var e,i,o=String(t),a="",s=0,c=r;o.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&e>>8-s%1*8)){if(i=o.charCodeAt(s+=.75),i>255)throw new n;e=e<<8|i}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=i},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(1);t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}},function(t,e){"use strict";t.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t){var e,n,r,o={};return t?(i.forEach(t.split("\n"),function(t){r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e&&(o[e]=o[e]?o[e]+", "+n:n)}),o):o}},function(t,e){"use strict";t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(n):t(n)}},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){var i;(function(t,r,o){(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function c(t){K=t}function u(t){tt=t}function l(){return function(){t.nextTick(m)}}function d(){return function(){G(m)}}function h(){var t=0,e=new it(m),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=m,function(){t.port2.postMessage(0)}}function f(){return function(){setTimeout(m,1)}}function m(){for(var t=0;t<Z;t+=2){var e=at[t],n=at[t+1];e(n),at[t]=void 0,at[t+1]=void 0}Z=0}function v(){try{var t=n(27);return G=t.runOnLoop||t.runOnContext,d()}catch(e){return f()}}function g(t,e){var n=this,i=new this.constructor(y);void 0===i[ut]&&j(i);var r=n._state;if(r){var o=arguments[r-1];tt(function(){R(r,i,o,n._result)})}else T(n,i,t,e);return i}function b(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return E(n,t),n}function y(){}function x(){return new TypeError("You cannot resolve a promise with itself")}function C(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(e){return pt.error=e,pt}}function I(t,e,n,i){try{t.call(e,n,i)}catch(r){return r}}function B(t,e,n){tt(function(t){var i=!1,r=I(n,e,function(n){i||(i=!0,e!==n?E(t,n):A(t,n))},function(e){i||(i=!0,_(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,_(t,r))},t)}function M(t,e){e._state===dt?A(t,e._result):e._state===ht?_(t,e._result):T(e,void 0,function(e){E(t,e)},function(e){_(t,e)})}function S(t,e,n){e.constructor===t.constructor&&n===st&&constructor.resolve===ct?M(t,e):n===pt?_(t,pt.error):void 0===n?A(t,e):s(n)?B(t,e,n):A(t,e)}function E(t,e){t===e?_(t,x()):a(e)?S(t,e,w(e)):A(t,e)}function L(t){t._onerror&&t._onerror(t._result),k(t)}function A(t,e){t._state===lt&&(t._result=e,t._state=dt,0!==t._subscribers.length&&tt(k,t))}function _(t,e){t._state===lt&&(t._state=ht,t._result=e,tt(L,t))}function T(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+dt]=n,r[o+ht]=i,0===o&&t._state&&tt(k,t)}function k(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?R(n,i,r,o):r(o);t._subscribers.length=0}}function O(){this.error=null}function q(t,e){try{return t(e)}catch(n){return ft.error=n,ft}}function R(t,e,n,i){var r,o,a,c,u=s(n);if(u){if(r=q(n,i),r===ft?(c=!0,o=r.error,r=null):a=!0,e===r)return void _(e,C())}else r=i,a=!0;e._state!==lt||(u&&a?E(e,r):c?_(e,o):t===dt?A(e,r):t===ht&&_(e,r))}function D(t,e){try{e(function(e){E(t,e)},function(e){_(t,e)})}catch(n){_(t,n)}}function N(){return mt++}function j(t){t[ut]=mt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function $(t){return new xt(this,t).promise}function U(t){var e=this;return new e(J(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function H(t){var e=this,n=new e(y);return _(n,t),n}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){this[ut]=N(),this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&P(),this instanceof z?D(this,t):F())}function W(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[ut]||j(this.promise),J(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):_(this.promise,Y())}function Y(){return new Error("Array Methods must be provided an Array")}function X(){var t;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=yt)}var V;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G,K,Q,J=V,Z=0,tt=function(t,e){at[Z]=t,at[Z+1]=e,Z+=2,2===Z&&(K?K(m):Q())},et="undefined"!=typeof window?window:void 0,nt=et||{},it=nt.MutationObserver||nt.WebKitMutationObserver,rt="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),ot="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,at=new Array(1e3);Q=rt?l():it?h():ot?p():void 0===et?v():f();var st=g,ct=b,ut=Math.random().toString(36).substring(16),lt=void 0,dt=1,ht=2,pt=new O,ft=new O,mt=0,vt=$,gt=U,bt=H,yt=z;z.all=vt,z.race=gt,z.resolve=ct,z.reject=bt,z._setScheduler=c,z._setAsap=u,z._asap=tt,z.prototype={constructor:z,then:st,"catch":function(t){return this.then(null,t)}};var xt=W;W.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===lt&&n<t;n++)this._eachEntry(e[n],n)},W.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===ct){var r=w(t);if(r===st&&t._state!==lt)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===yt){var o=new n(y);S(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(i(t),e)},W.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===lt&&(this._remaining--,t===ht?_(i,n):this._result[e]=n),0===this._remaining&&A(i,this._result)},W.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){n._settledAt(dt,e,t)},function(t){n._settledAt(ht,e,t)})};var Ct=X,wt={Promise:yt,polyfill:Ct};n(25).amd?(i=function(){return wt}.call(e,n,e,o),!(void 0!==i&&(o.exports=i))):"undefined"!=typeof o&&o.exports?o.exports=wt:"undefined"!=typeof this&&(this.ES6Promise=wt),Ct()}).call(this)}).call(e,n(2),function(){return this}(),n(26)(t))},function(t,e,n){"undefined"==typeof Promise&&n(21).polyfill();var i=n(24),r=n(5),o=n(23),a={baseURL:"https://dev.api.ibm.com/virtualagent/development/api/v1/",timeout:3e4,withCredentials:!1,XIBMClientID:!1,XIBMClientSecret:!1},s=r.create(a),c=/\|&(.*?)\|/g,u=function(t){for(var e=0;e<t.text.length;e++){var n=t.text[e].match(c)||[];t.text[e]=n.reduce(function(t,e){const n=e.slice(2,-1),i=o.get(n);return t.replace(e,i)},t.text[e])}return t},l=t.exports={configure:function(t){return i(a,t),s=r.create({baseURL:a.baseURL,timeout:a.timeout,withCredentials:a.withCredentials,headers:a.XIBMClientID&&a.XIBMClientSecret?{"X-IBM-Client-Id":a.XIBMClientID,"X-IBM-Client-Secret":a.XIBMClientSecret}:{}}),l},start:function(t){var e=d(),n="/bots/"+t+"/dialogs",i={headers:{"X-Request-ID":e}};return s.post(n,{},i).then(function(t){return{chatID:t.data.dialog_id,message:u(t.data.message)}})["catch"](function(t){console.error("Request failed:",e),h(t)})},send:function(t,e,n){var i=d(),r={message:n},o="/bots/"+t+"/dialogs/"+e+"/messages",a="message="+encodeURIComponent(n),c={headers:{"X-Request-ID":i}};return s.post(o+"?"+a,r,c).then(function(t){return{message:u(t.data.message)}})["catch"](function(t){console.error("Request failed:",i),h(t)})},profile:{get:o.get,set:o.set,has:o.has,clear:o.clear,"delete":o["delete"],forEach:o.forEach}},d=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},h=function(t){if(!t.status)throw t;var e=t.status,n=t.statusText,i=new Error(n);throw i.status=e,i}},function(t,e){var n={},i={set:function(t,e){return n[t]=e,i},get:function(t){return n[t]||""},has:function(t){return void 0!==n[t]},clear:function(){return n={},i},"delete":function(t){return delete n[t],i},forEach:function(t,e){return Object.keys(n).forEach(function(i){e?t(i,n[i]).bind(e):t(i,n[i])}),i}};t.exports=i},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t){return function(e){return null==e?void 0:e[t]}}function r(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function o(t,e){return function(n){return t(e(n))}}function a(t,e,n){var i=t[e];k.call(t,e)&&m(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function s(t,e){return null!=t&&(k.call(t,e)||"object"==typeof t&&e in t&&null===H(t))}function c(t,e){return e=N(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=N(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=a,n(t,this,s)}}function u(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var s=e[r],c=i?i(n[s],t[s],s,n,t):void 0;a(n,s,void 0===c?t[s]:c)}return n}function l(t){return c(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&p(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function d(t){var e=t?t.length:void 0;return x(e)&&(P(t)||I(t)||v(t))?r(e,String):null}function h(t,e){return e=null==e?M:e,!!e&&("number"==typeof t||_.test(t))&&t>-1&&t%1==0&&t<e}function p(t,e,n){if(!C(n))return!1;var i=typeof e;return!!("number"==i?g(n)&&h(e,n.length):"string"==i&&e in n)&&m(n[e],t)}function f(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||T;return t===n}function m(t,e){return t===e||t!==t&&e!==e}function v(t){return b(t)&&k.call(t,"callee")&&(!q.call(t,"callee")||O.call(t)==S)}function g(t){return null!=t&&x(U(t))&&!y(t)}function b(t){return w(t)&&g(t)}function y(t){var e=C(t)?O.call(t):"";return e==E||e==L}function x(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=M}function C(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function I(t){return"string"==typeof t||!P(t)&&w(t)&&O.call(t)==A}function B(t){var e=f(t);if(!e&&!g(t))return $(t);var n=d(t),i=!!n,r=n||[],o=r.length;for(var a in t)!s(t,a)||i&&("length"==a||h(a,o))||e&&"constructor"==a||r.push(a);return r}var M=9007199254740991,S="[object Arguments]",E="[object Function]",L="[object GeneratorFunction]",A="[object String]",_=/^(?:0|[1-9]\d*)$/,T=Object.prototype,k=T.hasOwnProperty,O=T.toString,q=T.propertyIsEnumerable,R=Object.getPrototypeOf,D=Object.keys,N=Math.max,j=!q.call({valueOf:1},"valueOf"),$=o(D,Object),U=i("length"),H=o(R,Object),P=Array.isArray,F=l(function(t,e){if(j||f(e)||g(e))return void u(e,B(e),t);for(var n in e)k.call(e,n)&&a(t,n,e[n])});t.exports=F},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){}])})},function(t,e,n){function i(t,e,n){var i=t[e];a.call(t,e)&&r(i,n)&&(void 0!==n||e in t)||(t[e]=n)}var r=n(11),o=Object.prototype,a=o.hasOwnProperty;t.exports=i},function(t,e){function n(t,e){return e=null==e?i:e,!!e&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}var i=Object.prototype;t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e){t.exports='<div id="${data.uuid}" class="IBMChat-user-message-container IBMChat-user-message-container-theme">\n\t<div class="IBMChat-user-message IBMChat-user-message-theme IBMChat-secondary-colors"></div>\n</div>\n';
},function(t,e,n){var i=n(7),r=i.profile;t.exports=r},function(t,e,n){var i;(function(t,r,o){(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function c(t){K=t}function u(t){tt=t}function l(){return function(){t.nextTick(m)}}function d(){return function(){G(m)}}function h(){var t=0,e=new it(m),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=m,function(){t.port2.postMessage(0)}}function f(){return function(){setTimeout(m,1)}}function m(){for(var t=0;t<Z;t+=2){var e=at[t],n=at[t+1];e(n),at[t]=void 0,at[t+1]=void 0}Z=0}function v(){try{var t=n(79);return G=t.runOnLoop||t.runOnContext,d()}catch(e){return f()}}function g(t,e){var n=this,i=new this.constructor(y);void 0===i[ut]&&j(i);var r=n._state;if(r){var o=arguments[r-1];tt(function(){R(r,i,o,n._result)})}else T(n,i,t,e);return i}function b(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return E(n,t),n}function y(){}function x(){return new TypeError("You cannot resolve a promise with itself")}function C(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(e){return pt.error=e,pt}}function I(t,e,n,i){try{t.call(e,n,i)}catch(r){return r}}function B(t,e,n){tt(function(t){var i=!1,r=I(n,e,function(n){i||(i=!0,e!==n?E(t,n):A(t,n))},function(e){i||(i=!0,_(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,_(t,r))},t)}function M(t,e){e._state===dt?A(t,e._result):e._state===ht?_(t,e._result):T(e,void 0,function(e){E(t,e)},function(e){_(t,e)})}function S(t,e,n){e.constructor===t.constructor&&n===st&&constructor.resolve===ct?M(t,e):n===pt?_(t,pt.error):void 0===n?A(t,e):s(n)?B(t,e,n):A(t,e)}function E(t,e){t===e?_(t,x()):a(e)?S(t,e,w(e)):A(t,e)}function L(t){t._onerror&&t._onerror(t._result),k(t)}function A(t,e){t._state===lt&&(t._result=e,t._state=dt,0!==t._subscribers.length&&tt(k,t))}function _(t,e){t._state===lt&&(t._state=ht,t._result=e,tt(L,t))}function T(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+dt]=n,r[o+ht]=i,0===o&&t._state&&tt(k,t)}function k(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?R(n,i,r,o):r(o);t._subscribers.length=0}}function O(){this.error=null}function q(t,e){try{return t(e)}catch(n){return ft.error=n,ft}}function R(t,e,n,i){var r,o,a,c,u=s(n);if(u){if(r=q(n,i),r===ft?(c=!0,o=r.error,r=null):a=!0,e===r)return void _(e,C())}else r=i,a=!0;e._state!==lt||(u&&a?E(e,r):c?_(e,o):t===dt?A(e,r):t===ht&&_(e,r))}function D(t,e){try{e(function(e){E(t,e)},function(e){_(t,e)})}catch(n){_(t,n)}}function N(){return mt++}function j(t){t[ut]=mt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function $(t){return new xt(this,t).promise}function U(t){var e=this;return new e(J(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function H(t){var e=this,n=new e(y);return _(n,t),n}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){this[ut]=N(),this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&P(),this instanceof z?D(this,t):F())}function W(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[ut]||j(this.promise),J(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):_(this.promise,Y())}function Y(){return new Error("Array Methods must be provided an Array")}function X(){var t;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=yt)}var V;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G,K,Q,J=V,Z=0,tt=function(t,e){at[Z]=t,at[Z+1]=e,Z+=2,2===Z&&(K?K(m):Q())},et="undefined"!=typeof window?window:void 0,nt=et||{},it=nt.MutationObserver||nt.WebKitMutationObserver,rt="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),ot="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,at=new Array(1e3);Q=rt?l():it?h():ot?p():void 0===et?v():f();var st=g,ct=b,ut=Math.random().toString(36).substring(16),lt=void 0,dt=1,ht=2,pt=new O,ft=new O,mt=0,vt=$,gt=U,bt=H,yt=z;z.all=vt,z.race=gt,z.resolve=ct,z.reject=bt,z._setScheduler=c,z._setAsap=u,z._asap=tt,z.prototype={constructor:z,then:st,"catch":function(t){return this.then(null,t)}};var xt=W;W.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===lt&&n<t;n++)this._eachEntry(e[n],n)},W.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===ct){var r=w(t);if(r===st&&t._state!==lt)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===yt){var o=new n(y);S(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(i(t),e)},W.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===lt&&(this._remaining--,t===ht?_(i,n):this._result[e]=n),0===this._remaining&&A(i,this._result)},W.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){n._settledAt(dt,e,t)},function(t){n._settledAt(ht,e,t)})};var Ct=X,wt={Promise:yt,polyfill:Ct};n(57).amd?(i=function(){return wt}.call(e,n,e,o),!(void 0!==i&&(o.exports=i))):"undefined"!=typeof o&&o.exports?o.exports=wt:"undefined"!=typeof this&&(this.ES6Promise=wt),Ct()}).call(this)}).call(e,n(33),function(){return this}(),n(58)(t))},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){function i(t,e){var n=a(t)||o(t)?r(t.length,String):[],i=n.length,c=!!i;for(var l in t)!e&&!u.call(t,l)||c&&("length"==l||s(l,i))||n.push(l);return n}var r=n(20),o=n(26),a=n(27),s=n(9),c=Object.prototype,u=c.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var r=n(10),o=n(24),a=Object.prototype,s=a.hasOwnProperty;t.exports=i},function(t,e,n){function i(t,e){return e=o(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=o(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=n[i];return c[e]=s,r(t,this,c)}}var r=n(16),o=Math.max;t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}t.exports=n},function(t,e,n){function i(t,e,n,i){n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],c=i?i(n[s],t[s],s,n,t):void 0;r(n,s,void 0===c?t[s]:c)}return n}var r=n(8);t.exports=i},function(t,e,n){function i(t){return r(function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(r--,a):void 0,s&&o(n[0],n[1],s)&&(a=r<3?void 0:a,r=1),e=Object(e);++i<r;){var c=n[i];c&&t(e,c,i,a)}return e})}var r=n(19),o=n(23);t.exports=i},function(t,e,n){function i(t,e,n){if(!s(n))return!1;var i=typeof e;return!!("number"==i?o(n)&&a(e,n.length):"string"==i&&e in n)&&r(n[e],t)}var r=n(11),o=n(6),a=n(9),s=n(12);t.exports=i},function(t,e,n){var i=n(25),r=i(Object.keys,Object);t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){function i(t){return r(t)&&s.call(t,"callee")&&(!u.call(t,"callee")||c.call(t)==o)}var r=n(28),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=a.propertyIsEnumerable;t.exports=i},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function i(t){return o(t)&&r(t)}var r=n(6),o=n(31);t.exports=i},function(t,e,n){function i(t){var e=r(t)?c.call(t):"";return e==o||e==a}var r=n(12),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,c=s.toString;t.exports=i},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){function i(t){return a(t)?r(t):o(t)}var r=n(17),o=n(18),a=n(6);t.exports=i},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):v=-1,f.length&&s())}function s(){if(!m){var t=r(a);m=!0;for(var e=f.length;e;){for(p=f,f=[];++v<e;)p&&p[v].run();v=-1,e=f.length}p=null,m=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,d,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var p,f=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||m||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){t.exports='<div class="${data.uuid}" class="IBMChat-watson-message-container IBMChat-watson-message-container-theme">\n\t<div class="IBMChat-watson-message IBMChat-watson-message-theme"></div>\n\t<div class="IBMChat-watson-layout"></div>\n</div>\n'},function(t,e){t.exports='<div class="IBMChat-outer-container IBMChat-outer-container-theme IBMChat-default-colors">\n\t<div class="IBMChat-chat-container IBMChat-chat-container-theme">\n\t\t<div class="IBMChat-inner-container IBMChat-inner-container-theme">\n\t\t\t<div class="IBMChat-messages IBMChat-messages-theme"></div>\n\t\t</div>\n\t</div>\n\t<div class="IBMChat-input-container IBMChat-input-container-theme">\n\t\t<form class="IBMChat-input-form IBMChat-input-form-theme">\n\t\t\t<input aria-labelledby="Enter a Message" type="text" class="IBMChat-chat-textbox IBMChat-chat-textbox-theme" placeholder="Enter message..." />\n\t\t\t<div class="IBMChat-ibm-spinner-start IBMChat-input-loading IBMChat-input-loading-theme">\n\t\t\t\t<svg class="IBMChat-ibm-spinner" width=32 height=32 viewBox="-16 -16 32 32">\n\t\t\t\t\t<circle cx=0 cy=0 r=8 /></svg>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>\n'},function(t,e){t.exports='/**\n* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n.IBMChat-creditcard-container {\n\tpadding: 1em;\n\ttext-align:center;\n}\n\n.IBMChat-creditcard-rows {\n\tmargin:auto;\n\ttext-align:left;\n\tmax-width:360px;\n\twidth:100%;\n}\n\n.IBMChat-creditcard-row {\n\ttext-align:left;\n\tpadding-bottom:1em;\n}\n\n.IBMChat-creditcard-row input {\n\twidth:100%;\n}\n\ndiv[data-validation-for] {\n\tpadding-top:0.5em;\n}\n\n.IBMChat-creditcard-col {\n\tdisplay:inline-block;\n}\n\n.IBMChat-creditcard-col:last-child {\n\tpadding-left:1em;\n}\n\n.IBMChat-creditcard-col input{\n\ttext-align:center;\n\twidth:40px;\n}\n\n.IBMChat-creditcard-col:last-child input {\n\twidth:60px;\n}\n\n.IBMChat-creditcard-buttons {\n\theight:2.5em;\n}\n\n.IBMChat-creditcard-buttons button {\n\twidth:100px;\n\tfloat:left;\n}\n\n.IBMChat-creditcard-buttons button:last-child {\n\tfloat:right;\n}\n'},function(t,e){t.exports='<div class="${ns}-container">\n\t<div class="${ns}-rows">\n\t\t<div class="${ns}-row">\n\t\t\t<input type="text" class="IBMChat-input-colors" name="cc_full_name" placeholder="Name on Card" />\n\t\t\t<div data-validation-for="cc_full_name" data-valid="true"></div>\n\t\t</div>\n\t\t<div class="${ns}-row">\n\t\t\t<input type="text" class="IBMChat-input-colors" name="cc_number" placeholder="Credit Card Number" />\n\t\t\t<div data-validation-for="cc_number" data-valid="true"></div>\n\t\t</div>\n\t\t<div class="${ns}-row">\n\t\t\t<div class="${ns}-col">\n\t\t\t\t<input class="${ns}-date IBMChat-input-colors" type="text" name="cc_exp_date_month" placeholder="MM" />\n\t\t\t\t/\n\t\t\t\t<input class="${ns}-date IBMChat-input-colors" type="text" name="cc_exp_date_year" placeholder="YY" />\n\t\t\t\t<div data-validation-for="cc_exp_date" data-valid="true"></div>\n\t\t\t</div>\n\n\t\t\t<div class="${ns}-col">\n\t\t\t\t<input class="${ns}-cvv IBMChat-input-colors" type="text" name="cc_code" placeholder="CVV" />\n\t\t\t\t<div data-validation-for="cc_code" data-valid="true"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="${ns}-row ${ns}-buttons">\n\t\t\t<button class="${ns}-cancel IBMChat-secondary-colors">Cancel</button>\n\t\t\t<button class="${ns}-continue IBMChat-input-colors">Continue</button>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e){t.exports='/**\n* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n.IBMChat-islocationapi-container {\n\ttext-align:center;\n}\n\n.IBMChat-islocationapi-container button {\n\tmargin: 1em auto 0 auto;\n\tmin-width:200px;\n\tmax-width:240px;\n\twidth:75%;\n}\n\n.IBMChat-islocationapi-container div:last-child {\n\tmargin-bottom: 1em;\n}\n'},function(t,e){t.exports='<div class="${ns}-container">\n\t<div><button class="IBMChat-secondary-colors" data-input="${values.geolocation}">Use My Current Location</button></div>\n\t<div><button class="IBMChat-secondary-colors" data-input="${values.postalcode}">A Zip Code</button></div>\n</div>\n'},function(t,e){t.exports='/**\n* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n.IBMChat-choose-container {\n\ttext-align:center;\n\tpadding:1em;\n}\n\n.IBMChat-choose-container span {\n\tdisplay:inline-block;\n\tmargin: 1em 1em 0 1em;\n}\n\n.IBMChat-choose-container div {\n\tmargin: 1em auto 0 auto;\n}\n\n.IBMChat-choose-container button {\n\tmin-width:200px;\n\tmax-width:240px;\n}\n'},function(t,e){t.exports='<button class="IBMChat-secondary-colors" data-input="${text}">${text}</button>\n'},function(t,e){t.exports='/**\n* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n.IBMChat-form-container {\n\ttext-align:center;\n\tpadding:1em;\n}\n\n.IBMChat-form-fields {\n\tmargin:auto;\n\ttext-align:left;\n\tmax-width:360px;\n\twidth:100%;\n}\n\n.IBMChat-form-fields-row {\n\tpadding-bottom:1.5em;\n}\n\n.IBMChat-form-fields-row input {\n\twidth: 100%;\n}\n\n.IBMChat-form-buttons {\n\twidth: 100%;\n\tmax-width: 360px;\n\theight: 2.5em;\n\ttext-align:center;\n\tmargin:auto;\n}\n\n.IBMChat-form-buttons button {\n\tline-height: 2.5em;\n\twidth: 100px;\n}\n\n.IBMChat-form-cancel {\n\tfloat:left;\n}\n.IBMChat-form-submit {\n\tfloat:right;\n}\n'},function(t,e){t.exports='<div class="IBMChat-form-container">\n\t<div class="IBMChat-form-fields"></div>\n\t<div class="IBMChat-form-buttons">\n\t\t<button class="IBMChat-form-cancel">Cancel</button>\n\t\t<button class="IBMChat-form-submit">Submit</button>\n\t</div>\n</div>\n'},function(t,e){t.exports='<label>${label}</label>\n<input type="text" class="IBMChat-input-colors" name="${name}" value="${value}" />\n<div class="IBMChat-input-error" data-name="${name}"></div>\n'},function(t,e){t.exports='/**\n* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n.IBMChat-map {\n\tmargin-top:1em;\n}\n\n.IBMChat-map-img {\n\theight:180px;\n}\n\n.IBMChat-map-img img {\n\theight:180px;\n}\n\n.IBMChat-map-multiple-locations {\n\tcursor: default;\n\topacity:0.3;\n}\n\n.IBMChat-map-location-active .IBMChat-map-multiple-locations {\n\topacity: 1;\n}\n\n.IBMChat-map-clickable .IBMChat-map-locations-item.IBMChat-map-multiple-locations {\n\tpadding: 1em 0 1em 0;\n\tcursor: pointer;\n\topacity: 1;\n}\n\n.IBMChat-map-data-section {\n\tmargin-top:0.5em;\n}\n\n.IBMChat-map-locations-item {\n\tpadding: 1em;\n\tborder-bottom:1px solid #505050;\n}\n\n.IBMChat-map-locations-item:after {\n\tvisibility: hidden;\n\tdisplay: block;\n\tfont-size: 0;\n\tcontent: " ";\n\tclear: both;\n\theight: 0;\n }\n\n.IBMChat-map-locations-item-icon {\n\tpadding:0.5em 0.5em 0 0;\n\ttext-align:center;\n\twidth: 64px;\n\tfloat:left;\n}\n\n.IBMChat-map-locations-item-data {\n\tfloat:left;\n}\n.IBMChat-map-locations-item-data-title {\n\tfont-weight: bold;\n\tpadding-bottom:0.5em;\n}\n.IBMChat-map-locations-item-data-items {\n\tfont-size: 0.9em;\n}\n\n.IBMChat-map-locations-item-data-section {\n\tpadding-bottom:1em;\n}\n\n.IBMChat-map-locations-item-data-email {\n\tpadding-bottom:1em;\n}\n\n.IBMChat-map-locations-item-data-phone {\n\tdisplay: table;\n\tmax-width:400px;\n\twidth: 100%;\n\tpadding-bottom:1em;\n}\n.IBMChat-map-contact-row {\n\tpadding-bottom:1em;\n}\n\n.IBMChat-map-hours-open {\n\tpadding-bottom:0.5em;\n}\n\n.IBMChat-map-contact-type {\n\tfont-style:italic;\n\tfont-size:0.9em;\n}\n.IBMChat-map-contact-data {\n\n}\n\na.IBMChat-map-locations-item-data-address-link,\na.IBMChat-map-locations-item-data-address-link:hover,\na.IBMChat-map-locations-item-data-address-link:visited,\na.IBMChat-map-locations-item-data-address-link:active,\n.IBMChat-map-contact-data a,\n.IBMChat-map-contact-data a:hover,\n.IBMChat-map-contact-data a:active,\n.IBMChat-map-contact-data a:visited {\n\tfont-weight:normal;\n\tfont-size:0.9em;\n}\n\n.IBMChat-map-locations-item-distance {\n\twidth:64px;\n\tfont-size:0.9em;\n}\n\nbutton.IBMChat-map-locations-item-data-hours-button {\n\tfont-size:0.9em;\n\tpadding: 0 1em 0 1em;\n\tline-height:1.5em;\n\tmargin-top:1em;\n}\n\nbutton.IBMChat-map-locations-all {\n\tfont-size:0.9em;\n\tpadding: 0 1em 0 1em;\n\tline-height:1.5em;\n}\n\n.IBMChat-map-locations-item-data-more-hours {\n\tdisplay: table;\n}\n\n.IBMChat-map-locations-item-data-more-hours.IBMChat-map-hidden {\n\tdisplay: none;\n}\n\n.IBMChat-map-days-hours {\n\tdisplay: table-row;\n}\n\n.IBMChat-map-days-hours-day, .IBMChat-map-days-hours-hours, .IBMChat-map-days-hours-closed {\n\tdisplay: table-cell;\n\tmargin: 0;\n\tpadding:0.75em 1em 0 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.IBMChat-map-days-hours > div:last-child {\n\tpadding: 0.75em 0 0 0 !important;\n}\n'},function(t,e){t.exports='<div class="${ns}-locations-item ${ns}-data-section IBMChat-secondary-colors">\n\t<div class="${ns}-locations-item-data-section">\n\t\t<button class="${ns}-locations-all IBMChat-accent-colors">Back to All Locations</button>\n\t</div>\n\t<div class="${ns}-locations-item-data">\n\t\t<div class="${ns}-locations-item-data-title"></div>\n\t\t<div class="${ns}-locations-item-data-items">\n\t\t\t<div class="${ns}-locations-item-data-section">\n\t\t\t\t<a class="${ns}-locations-item-data-address-link">\n\t\t\t\t\t<div class="${ns}-locations-item-data-address"></div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class="${ns}-locations-item-data-email"></div>\n\t\t\t<div class="${ns}-locations-item-data-phone"></div>\n\t\t\t<div class="${ns}-locations-item-data-hours"></div>\n\t\t</div>\n\t\t<button class="${ns}-locations-item-data-hours-button IBMChat-accent-colors">More Hours</button>\n\t\t<div class="${ns}-locations-item-data-items">\n\t\t\t<div class="${ns}-locations-item-data-more-hours ${ns}-hidden"></div>\n\t\t</div>\n\t</div>\n\t<div class="${ns}-locations-item-distance"></div>\n</div>\n'},function(t,e){t.exports='<div class="${ns}-locations-item ${ns}-multiple-locations ${ns}-data-section IBMChat-secondary-colors">\n\t<div class="${ns}-locations-item-icon"></div>\n\t<div class="${ns}-locations-item-data">\n\t\t<div class="${ns}-locations-item-data-title"></div>\n\t\t<div class="${ns}-locations-item-data-items">\n\t\t\t<div class="${ns}-locations-item-data-address"></div>\n\t\t</div>\n\t</div>\n\t<div class="${ns}-locations-item-distance"></div>\n</div>\n'},function(t,e){t.exports='<div class="${ns}">\n\t<div class="${ns}-img"></div>\n\t<div class="${ns}-data ${ns}-clickable"></div>\n</div>\n'},function(t,e){t.exports='<div class="${ns}-contact-type"></div>\n<div class="${ns}-contact-data"></div>\n'},function(t,e){t.exports='/**\n* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n.IBMChat-outer-container {\n\tmax-width: 768px;\n  min-width: 288px;\n  margin: 0 auto 0 auto;\n  border: none;\n\tmin-height:230px;\n  height: 100%;\n  box-sizing: border-box;\n\tpadding:0.5em;\n\tposition:relative;\n\tdisplay:table;\n\twidth:100%;\n\ttext-align: left;\n}\n\n\n/* Agent Component */\n\n.IBMChat-inner-container {\n\tdisplay:table-cell;\n\theight:100%;\n\tvertical-align: bottom;\n}\n\n/* Chat Component */\n\n.IBMChat-chat-container {\n\tdisplay:table-row;\n\theight:100%;\n}\n\n/* Messages Component */\n\n.IBMChat-messages {\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\theight:auto;\n}\n\n.IBMChat-messages > div {\n\topacity:0.8;\n}\n\n.IBMChat-messages > div .IBMChat-watson-layout {\n\topacity:0.8;\n}\n\n.IBMChat-messages > div:last-child {\n\topacity:1;\n}\n\n.IBMChat-messages > div:last-child .IBMChat-watson-layout {\n\topacity:1;\n}\n\n.IBMChat-messages label {\n\tdisplay:block;\n\tfont-weight:bold;\n\ttext-transform: capitalize;\n\tpadding-bottom:0.25em;\n}\n\n.IBMChat-messages input {\n\tborder-radius: 0;\n\tborder: 0;\n\tpadding:0.25em;\n}\n\n.IBMChat-messages button {\n\tbackground: none;\n\tborder: 0;\n\tcolor: inherit;\n\tfont: inherit;\n\tline-height: normal;\n\toverflow: visible;\n\tpadding: 0;\n\t-webkit-appearance: button; /* for input */\n\t-webkit-user-select: none; /* for button */\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tborder-radius: 2em;\n\tcursor: pointer;\n\tline-height: 2.5em;\n\tmargin:0;\n}\n\n.IBMChat-messages button[disabled="true"] {\n\tcursor: default;\n  opacity:.8;\n}\n\n.IBMChat-messages button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n\n/* WatsonMessage Component */\n\n.IBMChat-watson-message-container {\n\tmargin: 1em 0 1em 0;\n}\n\n.IBMChat-watson-message {\n\tmargin-right:2em;\n\tpadding: 0.1em;\n\tpadding-left: 1em;\n}\n\n.IBMChat-watson-layout {\n\tmargin: 0 1em 0 1em;\n}\n\n/* UserMessage Component */\n\n.IBMChat-user-message-container {\n  margin: 1em 0 1em 2em;\n}\n\n.IBMChat-user-message {\n  padding:1em;\n\tmargin:0 1em 0 0;\n\tborder-radius: 0.5em;\n}\n\n/* Input Component */\n\n.IBMChat-input-container {\n\tdisplay:table-row;\n\theight:75px;\n}\n\n.IBMChat-input-form {\n\tdisplay:table-cell;\n\tposition:relative;\n\tpadding:24px 24px 0 24px;\n}\n\n.IBMChat-chat-textbox {\n  border: none;\n\tborder-radius: 0;\n  color: inherit;\n  background: transparent;\n  font-size:1em;\n  margin:0 0 1.625em 0;\n  padding:0 0 3px 0;\n  width:100%;\n}\n\n.IBMChat-chat-textbox[disabled=\'disabled\'] {\n\topacity:0.5;\n}\n\n.IBMChat-input-form ::-webkit-input-placeholder {\n\topacity:1;\n}\n\n.IBMChat-chat-textbox:focus {\n  outline: none;\n  padding:0 0 2px 0;\n}\n\n/* Spinner */\n.IBMChat-input-loading {\n\tz-index: 2;\n\tposition:absolute;\n\tright: 16px;\n\ttop: 15px;\n\theight:32px;\n\twidth:32px;\n}\n\n.IBMChat-ibm-spinner-start {\n\topacity:0;\n}\n\n.IBMChat-ibm-spinner {\n\tfill: transparent;\n\tstroke-width: 3;\n\tstroke-linecap: "butt";\n\tstroke-dasharray: 1;\n\tstroke-dashoffset: 1;\n}\n\n/* initial rotation and stroke animation and infinite rotation*/\n.IBMChat-init-spin {\n\tanimation: init-rotate 150ms linear forwards, rotate-loop 2000ms linear infinite;\n}\n\n.IBMChat-init-spin svg circle {\n\tanimation: init-stroke 1000ms linear;\n}\n\n.IBMChat-end-spin svg circle {\n\tdisplay:none;\n}\n\n/* initial rotation */\n\n@keyframes init-rotate {\n\t0% {\n\t\ttransform: rotate(0deg);\n\t}\n\t100% {\n\t\ttransform: rotate(180deg);\n\t}\n}\n\n/* looping rotation */\n@keyframes rotate-loop {\n\t0% {\n\t\ttransform: rotate(0deg);\n\t}\n\t100% {\n\t\ttransform: rotate(360deg);\n\t}\n}\n\n/* initial stroke animation */\n\n@keyframes init-stroke {\n\t0% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'},[80,36],[80,38],[80,40],[80,42],[80,45],function(t,e,n){var i=n(50);"string"==typeof i&&(i=[[t.id,i,""]]);n(4)(i,{});i.locals&&(t.exports=i.locals)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){function i(t){y.subscribe("start",g.start),y.subscribe("resize",g.resize),y.subscribe("error",g.error),y.subscribe("disable-input",g.input.disableInput),y.subscribe("enable-loading",g.input.enableLoadingInput),y.subscribe("disable-loading",g.input.disableLoadingInput),y.subscribe("scroll-to-bottom",g.scrollToBottom),y.subscribe("receive",g.receive),t===!0?y.subscribe("send",g.sendMock):(y.subscribe("send",g.send),y.subscribe("send-input-message",g.sendInputMessage),y.subscribe("enable-input",g.input.enableInput),y.subscribe("focus-input",g.input.focusInput),y.subscribe("sendMock",g.sendMock))}function r(){a("show-locations",b.showLocations.init,!0),a("choose-location-type",b.chooseLocationType.init,!0),a("request-geolocation-latlong",b.requestGeolocationLatlong.init,!0),a("choose",b.choose.init,!0),a("form",b.form.init,!0),a("cc-validator",b.creditCard.init,!0);for(var t=0;t<E.length;t++)S[E[t]]()}function o(t){var e="string"==typeof t.el?document.getElementById(t.el):t.el,n={};return t.baseURL&&(n.baseURL=t.baseURL),t.withCredentials&&(n.withCredentials=t.withCredentials),t.XIBMClientID&&(n.XIBMClientID=t.XIBMClientID),t.XIBMClientSecret&&(n.XIBMClientSecret=t.XIBMClientSecret),t.userID&&(n.userID=t.userID),new I(function(o,a){var s=C.getState();return s.active===!0?void o():void(e?t.playback===!0?(i(!0),r(),y.publish("start",{active:!0,root:e,mapsServer:"https://dd1-i-serve-maps.mybluemix.net",styles:B({},M,t.styles),originalContent:e.innerHTML,chatId:"42",playback:!0}),o()):t.botID?x.configure(n).start(t.botID).then(function(n){var a=n.chatID;window.sessionStorage.setItem("IBMChatChatID",a),r(),i(),y.publish("start",{active:!0,root:e,mapsServer:"https://dd1-i-serve-maps.mybluemix.net",botID:t.botID,chatID:a,styles:B({},M,t.styles),baseURL:t.baseURL,originalContent:e.innerHTML}),y.publish("receive",n),o()})["catch"](function(t){console.error("IBMChat:",t),a(t)}):a({error:"BotID is required!"}):a({error:"Element for chat does not exist!"}))})}function a(t,e,n){E.indexOf(t)!==-1&&n||(E.push(t),S[t]=e)}function s(t){var e=C.getState();e.active&&y.publish("send",{text:t})}function c(t){var e=C.getState();e.active&&y.publish("receive",t)}function u(t){var e=C.getState();e.active&&y.publish("send-mock",{text:t})}function l(t){var e=C.getState();e.active&&y.publish("send",{text:t,silent:!0})}function d(){var t=C.getState();t.active&&y.publish("focus-input")}function h(){var t=C.getState();t.active&&y.publish("disable-input")}function p(){var t=C.getState();t.active&&y.publish("enable-input")}function f(){}function m(){return new I(function(t,e){var n=C.getState();n.root?(y.publish("destroy"),y.destroy(),n.root.innerHTML=n.originalContent,C.destroyState(),t()):e("IBMChat has no instance to destroy.")})}function v(){return new I(function(t,e){var n=C.getState();m().then(function(){o({el:n.root,botID:n.botID,baseURL:n.baseURL}).then(function(){t()})["catch"](function(t){e(t)})})["catch"](function(t){e(t)})})}var g=n(69),b=n(75),y=n(1),x=n(7),C=n(2),w=n(14),I=n(15).Promise,B=n(5),M=n(78),S={},E=[];t.exports={profile:w,init:o,registerLayout:a,send:s,receive:c,sendMock:u,sendSilently:l,focusInput:d,disableInput:h,enableInput:p,subscribe:y.subscribe,publish:y.publish,debug:f,destroy:m,restart:v,currentSubscriptions:y.currentSubscriptions,hasSubscription:y.hasSubscription,completeEvent:y.completeEvent}},function(t,e,n){function i(t){return"string"==typeof t?t:t.status&&void 0!==a[t.status]?a[t.status]:t.timeout?"The request took too long.":JSON.stringify(t);
}function r(t){console.error(arguments),console.error(i(t)),o.publish("send",{text:"agent",silent:!0})}var o=n(1),a={400:"A bad request was made, somewhere. (400)",401:"This request is unauthorized. (401)",403:"This request is forbidden. (403)",404:"The server is missing. (404)",405:"Method not allowed. (405)",408:"We took too long to respond, something must be wrong. (408)",412:"The was an error on the server. (412)",500:"The was an error on the server. (500)",501:"The was an error on the server. (501)",502:"The was an error on the server. (502)",503:"The was an error on the server. (503)",504:"The was an error on the server. (504)"};t.exports=r},function(t,e,n){function i(){var t=c.getState(),e=t.disableInput?t.disableInput-1:0;c.setState({disableInput:e}),e||t.input.removeAttribute("disabled")}function r(){var t=c.getState(),e=t.disableInput?t.disableInput+1:1;c.setState({disableInput:e}),t.input.setAttribute("disabled","disabled")}function o(){var t=c.getState(),e=t.loading?t.loading+1:1;c.setState({loading:e}),u.spinner.show(t.loader)}function a(){var t=c.getState(),e=t.loading?t.loading-1:0;c.setState({loading:e}),0===e&&u.spinner.hide(t.loader)}function s(){var t=c.getState();t.input.focus()}var c=n(2),u=n(3);t.exports={enableInput:i,disableInput:r,enableLoadingInput:o,disableLoadingInput:a,focusInput:s}},function(t,e,n){function i(t,e){for(var n=/(((https?:\/\/)|(www\.))[^\s]+)/gi,i=e.replace(n,"|||$1|||"),o=i.split("|||"),a=0;a<o.length;a++){var s=document.createElement("span"),c=o[a].replace(n,'<a href="$1" target="_blank">$1</a>');c===o[a]?s=r(s,c):s.innerHTML=c,t.appendChild(s)}}function r(t,e){var n=e.split("\n");if(1===n.length)t.textContent=n[0];else for(var i=0;i<n.length;i++){if(n[i].length>0){var r=document.createElement("span");r.textContent=n[i],t.appendChild(r)}i<n.length-1&&t.appendChild(document.createElement("br"))}return t}function o(t){var e="string"==typeof t?{message:{text:t}}:t,n=a.getState();t=u({},e,{uuid:c.getUUID()}),a.setState({messages:[].concat(n.messages||[],t)});for(var r=t.message&&t.message.text?Array.isArray(t.message.text)?t.message.text:[t.message.text]:[""],o=0;o<r.length;o++)if(r[o].length>0){var d,h=c.replaceAll(l,"${data.uuid}",t.uuid);n.chatHolder.innerHTML+=h,d=n.chatHolder.querySelector("."+t.uuid+":last-child .IBMChat-watson-message"),i(d,r[o])}if(s.publish("focus-input"),t.element=document.querySelector("."+t.uuid+":last-child"),t.layoutElement=t.element.querySelector(".IBMChat-watson-layout"),t.msgElement=t.element.querySelector(".IBMChat-watson-message"),t.message&&t.message.layout&&t.message.layout.name){var p="layout:"+t.message.layout.name;s.hasSubscription(p)?s.publish(p,t):n.DEBUG&&console.warn("Nothing is subscribed to "+p)}if(t.message&&t.message.action&&t.message.action.name){var f="action:"+t.message.action.name;s.hasSubscription(f)?s.publish(f,t,s.completeEvent):n.DEBUG&&console.warn("Nothing is subscribed to "+f)}s.publish("disable-loading"),s.publish("scroll-to-bottom")}var a=n(2),s=n(1),c=n(3),u=n(5),l=n(34);t.exports=o},function(t,e,n){function i(){var t=r.getState();t.active&&(t.chatHolder.style.maxHeight=t.root.getBoundingClientRect().height-t.inputHolder.getBoundingClientRect().height-20+"px",t.chatHolder.style.maxWidth=(t.root.getBoundingClientRect().width>288?t.root.getBoundingClientRect().width:288)+"px")}var r=n(2);t.exports=i},function(t,e,n){function i(){var t=r.getState();t.chatHolder.scrollTop=t.chatHolder.scrollHeight}var r=n(2);t.exports=i},function(t,e,n){function i(){var t=r.getState();if(!t.inProgress&&!t.disableInput){var e=t.root.querySelector(".IBMChat-chat-textbox").value;o.publish("send",{text:e}),e=""}}var r=n(2),o=n(1);t.exports=i},function(t,e,n){function i(t){if(t.text&&t.text.length>0){var e=r.getState(),i=s({},t,{uuid:a.getUUID()}),c=n(13),u=a.replaceAll(c,"${data.uuid}",i.uuid);e.chatHolder.innerHTML+=u,e.chatHolder.querySelector("#"+i.uuid+" .IBMChat-user-message").textContent=t.text,o.publish("scroll-to-bottom")}}var r=n(2),o=n(1),a=n(3),s=n(5);t.exports=i},function(t,e,n){function i(t){if(t.text&&t.text.length>0){var e=a.getState();r(t),e.inProgress||o()}}function r(t){var e=a.getState(),n=e.sendQueue||[],i=n.slice(0);i.push(t),a.setState({sendQueue:i})}function o(){var t=a.getState();s.publish("enable-loading");var e=l({},t.sendQueue[0],{uuid:u.getUUID()});a.setState({inProgress:!0,sendQueue:t.sendQueue.slice(0,-1),messages:[].concat(t.messages||[],e)}),c.send(t.botID,t.chatID,e.text).then(function(e){t=a.getState(),a.setState({inProgress:!1}),s.publish("disable-loading"),s.publish("receive",e),t.sendQueue.length>0&&o()})["catch"](function(t){a.setState({inProgress:!1}),s.publish("disable-loading"),s.publish("error",t)}),t.root.querySelector(".IBMChat-chat-textbox").value="",t=a.getState();var i=e.text||"";if(!e.silent){var r=n(13),d=u.replaceAll(r,"${data.uuid}",e.uuid);t.chatHolder.innerHTML+=d,t.chatHolder.querySelector("#"+e.uuid+" .IBMChat-user-message").textContent=i,s.publish("scroll-to-bottom")}}var a=n(2),s=n(1),c=n(7),u=n(3),l=n(5);t.exports=i},function(t,e,n){function i(t){var e;r.setState(t),e=r.getState(),o.attachStyles(),e.root.className+=" chatID-"+e.chatID,e.root.innerHTML=s.start;var n={container:e.root.querySelector(".IBMChat-chat-container"),chatHolder:e.root.querySelector(".IBMChat-messages"),innerContainer:e.root.querySelector(".IBMChat-inner-container"),input:e.root.querySelector(".IBMChat-chat-textbox"),form:e.root.querySelector(".IBMChat-input-form"),loader:e.root.querySelector(".IBMChat-input-loading"),inputHolder:e.root.querySelector(".IBMChat-input-container")};e.playback===!0&&n.inputHolder.parentNode.removeChild(n.inputHolder),r.setState(n),n.form.addEventListener("submit",function(t){t.preventDefault()},!1),n.input.addEventListener("keypress",function(t){13===t.keyCode&&a.publish("send-input-message")},!1),window.addEventListener("resize",o.debounce(function(){a.publish("resize")},1e3)),a.publish("resize")}var r=n(2),o=n(3),a=n(1),s={start:n(35)};t.exports=i},function(t,e,n){var i=n(68),r=n(63),o=n(62),a=n(67),s=n(66),c=n(65),u=n(61),l=n(60),d=n(64);t.exports={resize:r,start:i,send:a,sendMock:s,receive:o,input:u,error:l,scrollToBottom:d,sendInputMessage:c}},function(t,e,n){function i(t){this.init(t)}n(51);var r=n(1),o=n(2),a=r.subscribe,s=r.publish,c=n(3),u=n(71),l="IBMChat-creditcard",d=[],h={base:n(37)},p={init:function(){a("layout:cc-validator",function(t){var e=new i(t);d[t.uuid]=e})}};i.prototype.init=function(t){this.data=t.data||{},this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.drawForm()},i.prototype.drawForm=function(){var t=h.base;this.el=document.createElement("div"),t=c.replaceAll(t,"${ns}",l),this.el.innerHTML=t,this.layoutElement.appendChild(this.el),this.cancelButton=this.el.querySelector("."+l+"-cancel"),this.continueButton=this.el.querySelector("."+l+"-continue"),this.formElements={},this.fields=this.el.querySelectorAll("input");for(var e=0;e<this.fields.length;e++){var n=this.fields[e],i=n.getAttribute("name");this.formElements[i]=n}this.addListeners()},i.prototype.addListeners=function(){this.cancelButton.addEventListener("click",this.handleCancel.bind(this)),this.continueButton.addEventListener("click",this.handleContinue.bind(this))},i.prototype.addError=function(t,e){var n=this.el.querySelector('[data-validation-for="'+t+'"]');n.dataset.valid=!1,n.textContent=e},i.prototype.removeError=function(t){var e=this.el.querySelector('[data-validation-for="'+t+'"]');e.dataset.valid=!0,e.textContent=""},i.prototype.validate=function(){var t=!0;this.formData={};for(var e=0;e<this.fields.length;e++){var n=this.fields[e],i=n.getAttribute("name");this.formData[i]=n.value}0===this.formData.cc_full_name.length?(this.addError("cc_full_name","This field is required."),t=!1):this.removeError("cc_full_name");var r=u.validateCard(this.data.acceptedCards,this.formData.cc_number);r.valid?this.removeError("cc_full_name"):(this.addError("cc_number",r.message),t=!1);var o=u.validateExp(this.formData.cc_exp_date_month,this.formData.cc_exp_date_year);o.valid?this.removeError("cc_exp_date"):(this.addError("cc_exp_date",o.message),t=!1);var a=u.validateCVV(this.formData.cc_code);return a.valid?this.removeError("cc_code"):(this.addError("cc_code",a.message),t=!1),t},i.prototype.handleContinue=function(){this.validate()&&(this.formData.cc_exp_date=this.formData.cc_exp_date_month+"/"+this.formData.cc_exp_date_year,o.setProfile({selectedCard:this.formData}),s("send",{silent:!0,text:"success"}))},i.prototype.handleCancel=function(){s("send",{silent:!0,text:"cancel"})},i.prototype.removeAllEventListeners=function(){this.cancelButton.removeEventListener("click",this.handleCancel.bind(this)),this.cancelButton.setAttribute("disabled",!0),this.submitButton.removeEventListener("click",this.handleSubmit.bind(this)),this.submitButton.setAttribute("disabled",!0);for(var t=0;t<this.fields.length;t++)this.fields[t].setAttribute("disabled",!0);this.subscribeSend.remove()},t.exports=p},function(t,e){function n(){for(var t=0;t<c.acceptedCards.length;t++)for(var e=l[c.acceptedCards[t]],n=0;n<e.prefixes.length;n++){var i=e.prefixes[n].toString();if(c.cardNumber.substring(0,i.length)===i)return c.cardType=c.acceptedCards[t],!0}return!1}function i(){for(var t,e=0,n=1,i=c.cardNumber.length-1;i>=0;i--)t=Number(c.cardNumber.charAt(i))*n,t>9&&(e+=1,t-=10),e+=t,n=1==n?2:1;return e%10==0}function r(t,e){return c.acceptedCards=t,c.cardNumber=e.replace(/\D/g,""),0===e.length?{message:u.required,valid:!1}:0===c.cardNumber.length?{message:u.required,valid:!1}:n()?c.acceptedCards.indexOf(c.cardType)===-1?{message:u.acceptedCard(),valid:!1}:l[c.cardType].lengths.indexOf(c.cardNumber.length)===-1?{message:u.invalid,valid:!1}:i()===!1?{message:u.invalid,valid:!1}:{valid:!0}:{message:u.invalid,valid:!1}}function o(t,e){var n=new Date,i=n.getMonth(),r=n.getFullYear();return 0===t.length||0===e.length||0===t.replace(/\D/g,"").length||0===e.replace(/\D/g,"").length?{message:u.required,valid:!1}:(t=parseInt(t,10),e=parseInt("20"+e,10),t>12||t<1||e<r||e===r&&t<i?{message:u.invalidExpiration,valid:!1}:{valid:!0})}function a(t){return 0===t.length?{message:u.required,valid:!1}:!isNaN(t)&&(t>9999||t<100)?{message:u.invalidCvv,valid:!1}:{valid:!0}}var s,c={acceptedCards:[],cardNumber:"",cardType:""},u={required:"This field is required.",acceptedCard:function(){var t="We accept ";for(s=0;s<c.acceptedCards.length;s++)s>0&&(t+=", "),s===c.acceptedCards.length-1&&(t+=" and "),t+=l[c.acceptedCards[s]].human;return t+=". Please use a valid card."},invalid:"Your credit card number is invalid.",invalidExpiration:"Your credit card expiration date is invalid.",invalidCvv:"Your CVV is invalid."},l={visa:{human:"Visa",prefixes:[4],lengths:[13,16,19]},mastercard:{human:"MasterCard",prefixes:[51,52,53,54,55],lengths:[16]},amex:{human:"American Express",prefixes:[34,37],lengths:[15]},discover:{human:"Discover",prefixes:[6011,65],lengths:[16,19]}};for(s=2221;s<=2720;s++)l.mastercard.prefixes.push(s);for(s=622126;s<=622925;s++)l.discover.prefixes.push(s);for(s=644;s<=649;s++)l.discover.prefixes.push(s);t.exports={validateCard:r,validateExp:o,validateCVV:a,cardData:l}},function(t,e,n){function i(t){this.init(t)}n(52);var r=n(1),o=r.subscribe,a=r.publish,s="IBMChat-accent-colors",c="IBMChat-secondary-colors",u=n(3),l="IBMChat-islocationapi",d=[],h={init:function(){o("layout:choose-location-type",function(t){var e=new i(t);d[t.uuid]=e})}},p={postalcode:"zipcode",geolocation:"latlong"},f={base:n(39)};i.prototype={init:function(t){var e=f.base;if(this.data=t.data,this.uuid=t.uuid,"navigator"in window&&"geolocation"in navigator){this.eventListeners=[],this.parentElement=t.element,this.layoutElement=t.layoutElement,this.el=document.createElement("div"),e=u.replaceAll(e,"${ns}",l),e=u.replaceAll(e,"${values.geolocation}",p.geolocation),e=u.replaceAll(e,"${values.postalcode}",p.postalcode),this.el.innerHTML=e,this.layoutElement.appendChild(this.el),this.buttons=this.layoutElement.querySelectorAll("button");for(var n=0;n<this.buttons.length;n++)this.buttons[n].dataset.uuid=this.uuid,this.buttons[n].addEventListener("click",this.handleClick),this.eventListeners.push(this.buttons[n]);this.eventListeners.length>0&&(this.subscribeSend=o("send",this.removeAllEventListeners.bind(this)))}else a("send",{text:p.postalcode,silent:!0})},handleClick:function(){var t={silent:!0,text:null};t.text=this.dataset.input,this.classList.add(s),this.classList.remove(c),a("send",t),a("focus-input")},removeAllEventListeners:function(){if(this.eventListeners.length>0){for(var t=0;t<this.eventListeners.length;t++)this.eventListeners[t].removeEventListener("click",this.handleClick),this.eventListeners[t].setAttribute("disabled",!0);this.eventListeners=[]}this.subscribeSend.remove()}},t.exports=h},function(t,e,n){function i(t){this.init(t)}n(53);var r=n(1),o=r.subscribe,a=r.publish,s=n(3),c="IBMChat-choose",u="IBMChat-accent-colors",l="IBMChat-secondary-colors",d=[],h={button:n(41)},p={init:function(){o("layout:choose",function(t){var e=new i(t);d[t.uuid]=e}),o("layout:confirm",function(t){var e=new i(t);d[t.uuid]=e})}};i.prototype.init=function(t){this.allowMultiple=void 0!==t.message.inputvalidation.someOf,this.values=[],this.data=this.allowMultiple?t.message.inputvalidation.someOf:t.message.inputvalidation.oneOf,this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.drawButtons(),this.subscribeSend=o("send",this.removeAllEventListeners.bind(this))},i.prototype.eventListeners=[],i.prototype.drawButtons=function(){var t=h.button;this.el=document.createElement("div"),this.el.classList.add(c+"-container");for(var e=0;e<this.data.length;e++){var n=this.data[e],i=document.createElement(2===this.data.length?"span":"div");i.classList.add(c+"-option");var r,o=s.replaceAll(t,"${text}",n);i.innerHTML=o,this.el.appendChild(i),r=i.querySelector("button"),r.setAttribute("data-uuid",this.uuid),r.classList.add(l),this.addListener(r)}if(this.allowMultiple){var a=document.createElement("div"),d=s.replaceAll(t,"${text}","Submit");a.className=c+"-submit",a.innerHTML=d,this.submitButton=a.querySelector("button"),this.submitButton.classList=u,this.submitButton.setAttribute("disabled",!0),this.el.appendChild(a),this.addSubmitListener(this.submitButton)}this.layoutElement.appendChild(this.el)},i.prototype.handleClick=function(){var t={silent:!0,text:null};t.text=this.dataset.input,this.className=u+" IBMChat-accent-colors",a("send",t)},i.prototype.handleMultiClick=function(){var t,e=d[this.dataset.uuid];s.hasClass(this,u)?(this.classList.add(l),this.classList.remove(u)):(this.classList.add(u),this.classList.remove(l)),t=e.el.querySelectorAll("."+c+"-option ."+u),t.length>0?e.submitButton.removeAttribute("disabled"):e.submitButton.setAttribute("disabled",!0)},i.prototype.handleSubmit=function(){for(var t=this.el.querySelectorAll("."+u),e=0;e<t.length;e++)this.values.push(t[e].dataset.input);a("send",{silent:!0,text:this.values.toString()})},i.prototype.addListener=function(t){this.allowMultiple?t.addEventListener("click",this.handleMultiClick):t.addEventListener("click",this.handleClick),this.eventListeners.push(t)},i.prototype.addSubmitListener=function(t){t.addEventListener("click",this.handleSubmit.bind(this)),this.eventListeners.push(t)},i.prototype.removeAllEventListeners=function(){if(this.eventListeners.length>0){for(var t=0;t<this.eventListeners.length;t++)this.eventListeners[t].removeEventListener("click",this.handleClick),this.eventListeners[t].setAttribute("disabled",!0);this.eventListeners=[],this.subscribeSend.remove()}},t.exports=p},function(t,e,n){function i(t){this.init(t)}n(54);var r=n(1),o=n(14),a=r.subscribe,s=r.publish,c="IBMChat-accent-colors",u="IBMChat-secondary-colors",l=n(3),d="IBMChat-form",h=[],p={base:n(43),field:n(44)},f={init:function(){a("layout:form",function(t){var e=new i(t);h[t.uuid]=e})}};i.prototype.init=function(t){this.data=t.message.store||[],this.action=t.message.action||"",this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.drawForm(),this.subscribeSend=a("send",this.removeAllEventListeners.bind(this))},i.prototype.drawForm=function(){var t,e=document.createElement("div");e.innerHTML=p.base,t=e.querySelector(".IBMChat-form-fields");for(var n=0;n<this.data.length;n++){var i=document.createElement("div"),r=p.field;r=l.replaceAll(r,"${label}",this.data[n].label||""),r=l.replaceAll(r,"${name}",this.data[n].name),r=l.replaceAll(r,"${value}",""),i.innerHTML=r,i.className=d+"-fields-row",t.appendChild(i)}this.fields=t.querySelectorAll("input"),this.submitButton=e.querySelector("."+d+"-submit"),this.cancelButton=e.querySelector("."+d+"-cancel"),this.submitButton.classList.add(c),this.cancelButton.classList.add(u),this.layoutElement.appendChild(e),this.fields[0].focus(),this.addListeners()},i.prototype.handleSubmit=function(){if(this.validateFields()===!0){for(var t=0;t<this.fields.length;t++){var e=this.fields[t];o.set(e.getAttribute("name"),e.value)}s("send",{silent:!0,text:"success"})}},i.prototype.validateFields=function(){for(var t=!0,e=0;e<this.data.length;e++)this.data[e].required&&"false"!=this.data[e].required&&(this.fields[e].value&&0!==this.fields[e].value.length||(this.showError(this.fields[e].getAttribute("name"),"This field is required."),t=!1));return t},i.prototype.showError=function(t,e){var n=this.layoutElement.querySelector('[data-name="'+t+'"]');n.textContent=e,n.style.display="block"},i.prototype.hideErrors=function(){for(var t=this.layoutElement.querySelectorAll("[data-name]"),e=0;e<t.length;e++)t[e].textContent="",t[e].style.display="none"},i.prototype.handleCancel=function(){s("send",{silent:!0,text:"cancel"})},i.prototype.addListeners=function(){this.cancelButton.addEventListener("click",this.handleCancel.bind(this)),this.submitButton.addEventListener("click",this.handleSubmit.bind(this))},i.prototype.removeAllEventListeners=function(){this.cancelButton.removeEventListener("click",this.handleCancel.bind(this)),this.cancelButton.setAttribute("disabled",!0),this.submitButton.removeEventListener("click",this.handleSubmit.bind(this)),this.submitButton.setAttribute("disabled",!0);for(var t=0;t<this.fields.length;t++)this.fields[t].setAttribute("disabled",!0);this.subscribeSend.remove()},t.exports=f},function(t,e,n){var i=n(77),r=n(76),o=n(72),a=n(73),s=n(74),c=n(70);t.exports={showLocations:i,requestGeolocationLatlong:r,chooseLocationType:o,choose:a,creditCard:c,form:s}},function(t,e,n){function i(t){this.init(t)}var r=n(1),o=r.subscribe,a=r.publish,s=[],c={init:function(){o("layout:request-geolocation-latlong",function(t){var e=new i(t);s[t.uuid]=e})}};i.prototype={init:function(t){this.data=t.data,this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,a("disable-input"),navigator.geolocation.getCurrentPosition(function(t){a("enable-input"),a("send",{text:t.coords.latitude+","+t.coords.longitude,silent:!0})},function(){a("enable-input"),a("send",{text:"0,0",silent:!0})})}},t.exports=c},function(t,e,n){function i(t){for(var e=0;e<C.length;e++)if(e===C.length-1||C[e]>=t&&C[e+1]<t)return S=e,void(M=t)}function r(){var t=I[B[0]].getWidth(),e=C[S]>=t&&C[S+1]<t;return e}function o(){if(B.length>0&&I[B[0]].getWidth()&&!r())for(var t=I[B[0]].getWidth(),e=0;e<C.length;e++)if(e===C.length-1||C[e]>=t&&C[e+1]<t){S=e,M=t;for(var n=0;n<B.length;n++)I[B[n]].data.length>0&&I[B[n]].reDrawMap();return}}function a(t,e){if(e)for(var i=0;i<e.length;i++){var r=document.createElement("div"),o=n(49);r.className=L+"-contact-row",r.innerHTML=b.replaceAll(o,"${ns}",L);var a=r.querySelector("."+L+"-contact-type"),s=r.querySelector("."+L+"-contact-data");a.textContent=e[i].type,s.textContent=e[i].number,t.appendChild(r)}}function s(t){try{var e=t.split(":"),n=e[0],i=e[1],r=n>=12?"pm":"am";return n%=12,n=n?n:12,n+":"+i+" "+r}catch(o){return"-"}}function c(t){for(var e=t.split(","),n=e.shift(),i="",r=0;r<e.length;r++)i+=e[r],r<e.length-1&&(i+=",");return{address1:n,address2:i}}function u(t,e,n){if(n){var i=(new Date).getDay(),r=n[i],o=document.createElement("div");r&&r.isOpen?o.innerHTML='<div class="'+L+'-hours-open">Open today:</div><div class="'+L+'-hours-today">'+s(r.open)+" &ndash; "+s(r.close)+"</div>":o.innerHTML='<div class="'+L+'-hours-open">Closed today.</div>',t.appendChild(o);for(var a=0;a<n.length;a++){var c=document.createElement("div");c.setAttribute("class",L+"-days-hours"),n[a]&&n[a].isOpen?c.innerHTML='<div class="'+L+'-days-hours-day">'+w[a]+'</div><div class="'+L+'-days-hours-hours">'+s(n[a].open)+" &ndash; "+s(n[a].close)+"</div>":c.innerHTML='<div class="'+L+'-days-hours-day">'+w[a]+'</div><div class="'+L+'-days-hours-closed">Closed</div>',e.appendChild(c)}}}function l(t){if(t.distance){var e=0===t.distance.toFixed(1)?.1:t.distance.toFixed(1),n="miles"===t.distanceMeasure?"m":"km";return e+n}}function d(t){this.init(t)}n(55);var h=n(1),p=h.subscribe,f=h.publish,m=n(2),v=m.getState,g=m.setState,b=n(3),y=!0,x=3,C=["720","680","640","580","512","480","420","360","320","288","256"],w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],I={},B=[],M=748,S=0,E=window.devicePixelRatio||1,L="IBMChat-map",A={base:n(48),addLocationsItem:n(47),addLocationItem:n(46)},_={init:function(){p("layout:show-locations",function(t){var e=new d(t);B.push(t.uuid),I[t.uuid]=e}),window.addEventListener("resize",b.debounce(function(){setTimeout(function(){o()},1e3)},1e3))}},T=["A","B","C","D","E","F","G"];d.prototype={init:function(t){switch(this.data=void 0!==t.message.data&&void 0!==t.message.data.location_data?t.message.data.location_data:[],this.data.length>1&&g({location_data:this.data}),this.eventListeners=[],this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.data.length){case 0:this.msgElement.textContent="We could not find any locations close to you.";break;case 1:this.msgElement.textContent="Here are the details for the "+this.data[0].address.address+" location...";break;default:this.msgElement.textContent="Here are the locations I found close to you:"}if(this.data.length>0){var e=A.base;this.uuid=t.uuid,y&&(i(this.getWidth()),y=!1),this.map=document.createElement("div"),this.map.innerHTML=b.replaceAll(e,"${ns}",L),this.mapElement=this.map.querySelector("."+L+"-img"),this.dataElement=this.map.querySelector("."+L+"-data"),this.mapElement.appendChild(this.drawLocations()),this.dataElement.appendChild(this.addDetails()),this.layoutElement.appendChild(this.map)}},getWidth:function(){var t=this.parentElement.querySelector(".IBMChat-watson-layout:last-child").clientWidth;return t},reDrawMap:function(){this.mapElement.innerHTML="",this.mapElement.appendChild(this.drawLocations())},addDetails:function(){return this.data.length>1?this.addLocations():this.addLocation()},drawLocations:function(){var t=v(),e=document.createElement("img"),n=this.getWidth(),i={size:n+"x180",scale:E};this.uri=t.mapsServer+"?",this.uri+=b.serialize(i),this.uri+="&locations=";for(var r="",o=0;o<x&&o<this.data.length;o++){var a=this.data[o];r+=0===o?a.address.lat+","+a.address.lng:"+"+a.address.lat+","+a.address.lng}return this.uri+=encodeURIComponent(r),this.uri+="&color="+encodeURIComponent(t.styles.accentBackground.replace("#","")),e.setAttribute("width","100%"),e.setAttribute("src",this.uri),e},handleClick:function(){this.className=L+"-location-active",I[this.dataset.uuid].removeAllEventListeners(),f("receive",{message:{text:["Here are the details for this location."],layout:{name:"show-locations"},data:{location_data:[I[this.dataset.uuid].data[this.dataset.id-1]]}}})},removeAllEventListeners:function(){if(this.eventListeners.length>0){this.dataElement.classList.remove(L+"-clickable");for(var t=0;t<this.eventListeners.length;t++)this.eventListeners[t].removeEventListener("click",this.handleClick);this.eventListeners=[]}},addLocation:function(){var t=document.createElement("div"),e=document.createElement("div"),n=v().location_data,i=this.data[0],r=function(t){var e=A.addLocationItem;return t.innerHTML=b.replaceAll(e,"${ns}",L),{link:t.querySelector("."+L+"-locations-item-data-address-link"),label:t.querySelector("."+L+"-locations-item-data-title"),address:t.querySelector("."+L+"-locations-item-data-address"),address1:document.createElement("span"),address2:document.createElement("span"),phone:t.querySelector("."+L+"-locations-item-data-phone"),email:t.querySelector("."+L+"-locations-item-data-email"),hours:t.querySelector("."+L+"-locations-item-data-hours"),parentEl:t.querySelector("."+L+"-locations-item-data"),hoursButton:t.querySelector("."+L+"-locations-item-data-hours-button"),moreHours:t.querySelector("."+L+"-locations-item-data-more-hours"),distance:t.querySelector("."+L+"-locations-item-distance"),backHolder:t.querySelector("."+L+"-locations-item-data-section"),back:t.querySelector("."+L+"-locations-all")}},o=r(e);i.label?o.label.textContent=i.label:o.parentEl.removeChild(o.label);var s=c(i.address.address);if(o.address1.textContent=s.address1,o.address2.textContent=s.address2,o.address.appendChild(o.address1),o.address.appendChild(document.createElement("br")),o.address.appendChild(o.address2),o.link.setAttribute("href","https://maps.google.com/?q="+encodeURIComponent(i.address.address)),o.link.setAttribute("target","_blank"),o.distance.textContent=l(i)||"",i.email){const d=document.createElement("a");d.setAttribute("href","mailto:"+i.email),d.setAttribute("target","_blank"),d.textContent=i.email,o.email.appendChild(d)}else o.email.parentNode.removeChild(o.email);return i.phones&&i.phones.length>0?a(o.phone,i.phones):o.phone.parentNode.removeChild(o.phone),i.days&&i.days.length>0?(u(o.hours,o.moreHours,i.days),o.hoursButton.addEventListener("click",function(t){t.preventDefault(),o.parentEl.removeChild(o.hoursButton),o.moreHours.setAttribute("class",L+"-locations-item-data-more-hours"),f("focus-input"),f("scroll-to-bottom")})):o.hours.parentNode.removeChild(o.hours),n&&n.length>1?o.back.addEventListener("click",function(t){t.preventDefault(),f("receive",{message:{text:["Here are the locations I found close to you:"],layout:{name:"show-locations"},data:{location_data:n}}})}):o.backHolder.parentNode.removeChild(o.backHolder),t.appendChild(e),t},addLocations:function(){for(var t=v(),e=function(t,e,n){t.addEventListener("click",this.handleClick),t.dataset.uuid=n,t.dataset.id=e+1;var i=A.addLocationsItem;return t.innerHTML=b.replaceAll(i,"${ns}",L),this.eventListeners.push(t),{icon:t.querySelector("."+L+"-locations-item-icon"),label:t.querySelector("."+L+"-locations-item-data-title"),address:t.querySelector("."+L+"-locations-item-data-address"),address1:document.createElement("span"),address2:document.createElement("span"),distance:t.querySelector("."+L+"-locations-item-distance")}},n=document.createElement("div"),i=0;i<x&&i<this.data.length;i++){var r=document.createElement("div"),o=this.data[i],a=e.call(this,r,i,this.uuid),s=document.createElement("div");s.setAttribute("style","font-weight:bold; color:"+t.styles.accentText+"; background: "+t.styles.accentBackground+"; line-height: 24px; height:24px; width:24px; margin-left:8px;"),s.textContent=T[i],a.icon.appendChild(s),a.label.textContent=o.label||"";var u=c(o.address.address);a.address1.textContent=u.address1,a.address2.textContent=u.address2,a.address.appendChild(a.address1),a.address.appendChild(document.createElement("br")),a.address.appendChild(a.address2),a.distance.textContent=l(o)||"",n.appendChild(r)}return n}},t.exports=_},function(t,e){var n={background:"#3d3d3d",accentBackground:"#AF6EE8",accentText:"#ffffff",text:"#ffffff",link:"#ffffff",secondaryBackground:"#464646",secondaryText:"#f7f7f7",inputBackground:"#464646",inputText:"#f7f7f7"};t.exports=n},function(t,e){},function(t,e,n,i){var r=n(i);"string"==typeof r&&(r=[[t.id,r,""]]);n(4)(r,{});r.locals&&(t.exports=r.locals)}]))});