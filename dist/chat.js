/*!
 * 
 * * (C) Copyright IBM Corp. 2017. All Rights Reserved.
 * *
 * * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * * in compliance with the License. You may obtain a copy of the License at
 * *
 * * http://www.apache.org/licenses/LICENSE-2.0
 * *
 * * Unless required by applicable law or agreed to in writing, software distributed under the License
 * * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * * or implied. See the License for the specific language governing permissions and limitations under
 * * the License.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("IBMChat",[],e):"object"==typeof exports?exports.IBMChat=e():t.IBMChat=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),i=t[e[0]];return function(t,e,o){i.apply(this,[t,e,o].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
function(t,e,n){n(/*! ./styles.css */68);var i=n(/*! ./bootstrap */69),o={init:i.init,restart:i.restart,destroy:i.destroy,clear:i.clear,send:function(t){return i.send(t),o},receive:function(t){return i.receive(t),o},sendMock:function(t){return i.sendMock(t),o},sendSilently:function(t){return i.sendSilently(t),o},registerLayout:function(t,e){return i.registerLayout(t,e),o},enableCustomInputHandler:function(t){return i.enableCustomInputHandler(t),o},disableCustomInputHandler:function(){return i.disableCustomInputHandler(),o},focusInput:function(){return i.focusInput(),o},disableInput:function(){return i.disableInput(),o},enableInput:function(){return i.enableInput(),o},subscribe:i.subscribe,subscribeOnce:i.subscribeOnce,publish:function(t,e){return i.publish(t,e),o},profile:{get:i.profile.get,set:i.profile.set,has:i.profile.has,clear:i.profile.clear,"delete":i.profile["delete"],forEach:i.profile.forEach},currentSubscriptions:i.currentSubscriptions,state:{get:i.state.get,set:function(t){return i.state.set(t),o}},debug:function(){return i.debug(),o},version:"1.3.1"};t.exports=o},/*!*****************************!*\
  !*** ./src/events/index.js ***!
  \*****************************/
function(t,e,n){function i(t){switch(t){case!0:d("send",{message:"success",silent:!0});break;case!1:d("send",{message:"failure",silent:!0});break;default:d("send",{message:"cancel",silent:!0})}}function o(){p=[]}function r(t,e,n){void 0===typeof n&&(n=e)}function a(){return p.slice(0)}function s(t){for(var e=a(),n=0;n<e.length;n++){var i=e[n];if(i&&i.event===t)return!0;if(n===e.length-1)return!1}}function c(t,e,n,i){void 0===typeof n&&(n=e);var o=p.push({event:t,handler:e.bind(n),subscribeOnce:!!i})-1;if(!i)return{remove:function(){delete p[o]}}}function l(t,e,n){return c(t,e,n,!1)}function u(t,e,n){c(t,e,n,!0)}function d(t,e,n){for(var i=h.get(),o=!1,r=0;r<p.length;r++)p[r]&&p[r].event&&p[r].event===t&&(i.DEBUG&&(o=!0,"resize"!==t&&console.log("Subscription to "+t+" was called: ",e)),p[r].handler.call(void 0,e,n),p[r]&&p[r].subscribeOnce===!0&&delete p[r]);i.DEBUG&&t.indexOf("layout")==-1&&!o&&console.warn("Nothing is subscribed to "+t)}var h=n(/*! ../state */2),p=[];t.exports={destroy:o,unsubscribe:r,currentSubscriptions:a,hasSubscription:s,subscribe:l,subscribeOnce:u,publish:d,completeEvent:i}},/*!****************************!*\
  !*** ./src/state/index.js ***!
  \****************************/
function(t,e,n){function i(){return s}function o(){s={},r({})}function r(t){s=c({},s,t),s.DEBUG&&(a.push(s),console.log("STATE HISTORY: ",a),console.log("NEW STATE: ",s))}var a=[],s={},c=n(/*! lodash/assign */6);t.exports={get:i,set:r,destroy:o,getState:i,setState:r,destroyState:o}},/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/
function(t,e,n){function i(t,e,n){var i;return function(){var o=this,r=arguments,a=function(){i=null,n||t.apply(o,r)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(o,r)}}function o(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function r(t,e){return e&&Object.keys(e).length>0&&Object.keys(e).forEach(function(n){t=t.split("${"+n+"}").join(e[n])}),t}function a(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"IBMChat-"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}function s(t,e){var n=" "+e+" ";return(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(n)>-1}function c(t,e){for(var n=0;n<t.length;n++){var i=e.cloneNode(!0);t[n].appendChild(i)}}function l(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function u(){var t=f.get();p&&clearTimeout(p),l(t.root)?(t.isVisible||f.set({isVisible:!0}),m.publish("resize"),p=setTimeout(u,1e3)):(t.isVisible&&f.set({isVisible:!1}),p=setTimeout(u,300))}function d(t){return!("string"!=typeof t||!document.getElementById(t))||!(!t.nodeType||1!==t.nodeType)}function h(t){var e={},n="https://api.ibm.com/virtualagent/run/api/v1/";return e.baseURL=t.baseURL||n,t.withCredentials&&(e.withCredentials=t.withCredentials),t.XIBMClientID&&(e.XIBMClientID=t.XIBMClientID),t.XIBMClientSecret&&(e.XIBMClientSecret=t.XIBMClientSecret),t.userID&&(e.userID=t.userID),t.userLatLon&&(e.userLatLon=t.userLatLon),e}var p,f=n(/*! ../state */2),m=n(/*! ../events */1),v=n(/*! ./styles */96),b=n(/*! ./writeMessage */97),g=n(/*! ./resize */95);t.exports={appendToEach:c,debounce:i,serialize:o,hasClass:s,getUUID:a,attachStyles:v.attachStyles,attachPlaybackStyles:v.attachPlaybackStyles,convertHexToRGBA:v.convertHexToRGBA,normalizeToHex:v.normalizeToHex,compile:r,writeMessage:b,addResizeListener:g.addResizeListener,removeResizeListener:g.removeResizeListener,isVisible:l,checkVisibility:u,checkRoot:d,getSDKConfig:h}},/*!*************************************!*\
  !*** ./~/style-loader/addStyles.js ***!
  \*************************************/
function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=p[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(l(i.parts[r],e))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(l(i.parts[r],e));p[i.id]={id:i.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],r=o[0],a=o[1],s=o[2],c=o[3],l={css:a,media:s,sourceMap:c};n[r]?n[r].parts.push(l):e.push(n[r]={id:r,parts:[l]})}return e}function r(t,e){var n=v(),i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function l(t,e){var n,i,o;if(e.singleton){var r=g++;n=b||(b=s(e)),i=u.bind(null,n,r,!1),o=u.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),i=h.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=d.bind(null,n),o=function(){a(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function u(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function d(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var p={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=f(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,g=0,y=[];t.exports=function(t,e){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return i(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var s=n[a],c=p[s.id];c.refs--,r.push(c)}if(t){var l=o(t);i(l,e)}for(var a=0;a<r.length;a++){var c=r[a];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete p[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},/*!*******************************************************!*\
  !*** ./~/@watson-virtual-agent/client-sdk/lib/web.js ***!
  \*******************************************************/
function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(22)},function(t,e){"use strict";function n(t){return"[object Array]"===x.call(t)}function i(t){return"[object ArrayBuffer]"===x.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function r(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function s(t){return"number"==typeof t}function c(t){return"undefined"==typeof t}function l(t){return null!==t&&"object"==typeof t}function u(t){return"[object Date]"===x.call(t)}function d(t){return"[object File]"===x.call(t)}function h(t){return"[object Blob]"===x.call(t)}function p(t){return"[object Function]"===x.call(t)}function f(t){return l(t)&&p(t.pipe)}function m(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function v(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function b(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function g(t,e){if(null!==t&&"undefined"!=typeof t)if("object"==typeof t||n(t)||(t=[t]),n(t))for(var i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(null,t[r],r,t)}function y(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=y(e[n],t):e[n]=t}for(var e={},n=0,i=arguments.length;n<i;n++)g(arguments[n],t);return e}var x=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:i,isFormData:o,isArrayBufferView:r,isString:a,isNumber:s,isObject:l,isUndefined:c,isDate:u,isFile:d,isBlob:h,isFunction:p,isStream:f,isURLSearchParams:m,isStandardBrowserEnv:b,forEach:g,merge:y,trim:v}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):v=-1,f.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=f.length;e;){for(p=f,f=[];++v<e;)p&&p[v].run();v=-1,e=f.length}p=null,m=!1,r(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var p,f=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||m||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";var i=n(1),o=n(12),r=n(18),a=n(4),s=n(16),c="undefined"!=typeof window&&window.btoa||n(11),l=n(19);t.exports=function(t,u,d){var h=d.data,p=d.headers;i.isFormData(h)&&delete p["Content-Type"];var f=new XMLHttpRequest,m="onreadystatechange",v=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(d.url)||(f=new window.XDomainRequest,m="onload",v=!0,f.onprogress=function(){},f.ontimeout=function(){}),d.auth){var b=d.auth.username||"",g=d.auth.password||"";p.Authorization="Basic "+c(b+":"+g)}if(f.open(d.method.toUpperCase(),o(d.url,d.params,d.paramsSerializer),!0),f.timeout=d.timeout,f[m]=function(){if(f&&(4===f.readyState||v)&&0!==f.status){var e="getAllResponseHeaders"in f?r(f.getAllResponseHeaders()):null,n=d.responseType&&"text"!==d.responseType?f.response:f.responseText,i={data:a(n,e,d.transformResponse),status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:e,config:d,request:f};l(t,u,i),f=null}},f.onerror=function(){u(new Error("Network Error")),f=null},f.ontimeout=function(){var t=new Error("timeout of "+d.timeout+"ms exceeded");t.timeout=d.timeout,t.code="ECONNABORTED",u(t),f=null},i.isStandardBrowserEnv()){var y=n(14),x=d.withCredentials||s(d.url)?y.read(d.xsrfCookieName):void 0;x&&(p[d.xsrfHeaderName]=x)}if("setRequestHeader"in f&&i.forEach(p,function(t,e){"undefined"==typeof h&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)}),d.withCredentials&&(f.withCredentials=!0),d.responseType)try{f.responseType=d.responseType}catch(C){if("json"!==f.responseType)throw C}d.progress&&("post"===d.method||"put"===d.method?f.upload.addEventListener("progress",d.progress):"get"===d.method&&f.addEventListener("progress",d.progress)),void 0===h&&(h=null),f.send(h)}}).call(e,n(2))},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";function i(t){this.defaults=r.merge({},t),this.interceptors={request:new s,response:new s}}var o=n(9),r=n(1),a=n(8),s=n(7),c=n(15),l=n(13),u=n(10),d=n(4);i.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),t=r.merge(o,this.defaults,{method:"get"},t),t.baseURL&&!c(t.url)&&(t.url=l(t.baseURL,t.url)),t.withCredentials=t.withCredentials||this.defaults.withCredentials,t.data=d(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n};var h=new i(o),p=t.exports=u(i.prototype.request,h);p.request=u(i.prototype.request,h),p.Axios=i,p.defaults=h.defaults,p.interceptors=h.interceptors,p.create=function(t){return new i(t)},p.all=function(t){return Promise.all(t)},p.spread=n(20),r.forEach(["delete","get","head"],function(t){i.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))},p[t]=u(i.prototype[t],h)}),r.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))},p[t]=u(i.prototype[t],h)})},function(t,e,n){"use strict";function i(){this.handlers=[]}var o=n(1);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){(function(e){"use strict";t.exports=function(t){return new Promise(function(i,o){try{var r;"function"==typeof t.adapter?r=t.adapter:"undefined"!=typeof XMLHttpRequest?r=n(3):"undefined"!=typeof e&&(r=n(3)),"function"==typeof r&&r(i,o,t)}catch(a){o(a)}})}}).call(e,n(2))},function(t,e,n){"use strict";function i(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o=n(1),r=n(17),a=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"};t.exports={transformRequest:[function(t,e){return r(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(a,"");try{t=JSON.parse(t)}catch(e){}}return t}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:o.merge(s),post:o.merge(s),put:o.merge(s)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e){"use strict";function n(){this.message="String contains an invalid character"}function i(t){for(var e,i,r=String(t),a="",s=0,c=o;r.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&e>>8-s%1*8)){if(i=r.charCodeAt(s+=.75),i>255)throw new n;e=e<<8|i}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=i},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(1);t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(o.isURLSearchParams(e))r=e.toString();else{var a=[];o.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(o.isArray(t)&&(e+="[]"),o.isArray(t)||(t=[t]),o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),r=a.join("&")}return r&&(t+=(t.indexOf("?")===-1?"?":"&")+r),t}},function(t,e){"use strict";t.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,o,r,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(o)&&s.push("path="+o),i.isString(r)&&s.push("domain="+r),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return e=t(window.location.href),function(n){var o=i.isString(n)?t(n):n;return o.protocol===e.protocol&&o.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t){var e,n,o,r={};return t?(i.forEach(t.split("\n"),function(t){o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r):r}},function(t,e){"use strict";t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(n):t(n)}},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){var i;(function(t,o,r){/*!
		 * @overview es6-promise - a tiny implementation of Promises/A+.
		 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
		 * @license   Licensed under MIT license
		 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
		 * @version   3.2.1
		 */
(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function c(t){Q=t}function l(t){tt=t}function u(){return function(){t.nextTick(m)}}function d(){return function(){W(m)}}function h(){var t=0,e=new it(m),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=m,function(){t.port2.postMessage(0)}}function f(){return function(){setTimeout(m,1)}}function m(){for(var t=0;t<Z;t+=2){var e=at[t],n=at[t+1];e(n),at[t]=void 0,at[t+1]=void 0}Z=0}function v(){try{var t=n(27);return W=t.runOnLoop||t.runOnContext,d()}catch(e){return f()}}function b(t,e){var n=this,i=new this.constructor(y);void 0===i[lt]&&O(i);var o=n._state;if(o){var r=arguments[o-1];tt(function(){H(o,i,r,n._result)})}else T(n,i,t,e);return i}function g(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return E(n,t),n}function y(){}function x(){return new TypeError("You cannot resolve a promise with itself")}function C(){return new TypeError("A promises callback cannot return that same promise.")}function I(t){try{return t.then}catch(e){return pt.error=e,pt}}function w(t,e,n,i){try{t.call(e,n,i)}catch(o){return o}}function B(t,e,n){tt(function(t){var i=!1,o=w(n,e,function(n){i||(i=!0,e!==n?E(t,n):S(t,n))},function(e){i||(i=!0,k(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&o&&(i=!0,k(t,o))},t)}function M(t,e){e._state===dt?S(t,e._result):e._state===ht?k(t,e._result):T(e,void 0,function(e){E(t,e)},function(e){k(t,e)})}function _(t,e,n){e.constructor===t.constructor&&n===st&&constructor.resolve===ct?M(t,e):n===pt?k(t,pt.error):void 0===n?S(t,e):s(n)?B(t,e,n):S(t,e)}function E(t,e){t===e?k(t,x()):a(e)?_(t,e,I(e)):S(t,e)}function L(t){t._onerror&&t._onerror(t._result),A(t)}function S(t,e){t._state===ut&&(t._result=e,t._state=dt,0!==t._subscribers.length&&tt(A,t))}function k(t,e){t._state===ut&&(t._state=ht,t._result=e,tt(L,t))}function T(t,e,n,i){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+dt]=n,o[r+ht]=i,0===r&&t._state&&tt(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,o,r=t._result,a=0;a<e.length;a+=3)i=e[a],o=e[a+n],i?H(n,i,o,r):o(r);t._subscribers.length=0}}function $(){this.error=null}function D(t,e){try{return t(e)}catch(n){return ft.error=n,ft}}function H(t,e,n,i){var o,r,a,c,l=s(n);if(l){if(o=D(n,i),o===ft?(c=!0,r=o.error,o=null):a=!0,e===o)return void k(e,C())}else o=i,a=!0;e._state!==ut||(l&&a?E(e,o):c?k(e,r):t===dt?S(e,o):t===ht&&k(e,o))}function z(t,e){try{e(function(e){E(t,e)},function(e){k(t,e)})}catch(n){k(t,n)}}function q(){return mt++}function O(t){t[lt]=mt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(t){return new xt(this,t).promise}function j(t){var e=this;return new e(K(t)?function(n,i){for(var o=t.length,r=0;r<o;r++)e.resolve(t[r]).then(n,i)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function U(t){var e=this,n=new e(y);return k(n,t),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(t){this[lt]=q(),this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&N(),this instanceof P?z(this,t):F())}function V(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[lt]||O(this.promise),K(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):k(this.promise,G())}function G(){return new Error("Array Methods must be provided an Array")}function X(){var t;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=yt)}var Y;Y=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var W,Q,J,K=Y,Z=0,tt=function(t,e){at[Z]=t,at[Z+1]=e,Z+=2,2===Z&&(Q?Q(m):J())},et="undefined"!=typeof window?window:void 0,nt=et||{},it=nt.MutationObserver||nt.WebKitMutationObserver,ot="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),rt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,at=new Array(1e3);J=ot?u():it?h():rt?p():void 0===et?v():f();var st=b,ct=g,lt=Math.random().toString(36).substring(16),ut=void 0,dt=1,ht=2,pt=new $,ft=new $,mt=0,vt=R,bt=j,gt=U,yt=P;P.all=vt,P.race=bt,P.resolve=ct,P.reject=gt,P._setScheduler=c,P._setAsap=l,P._asap=tt,P.prototype={constructor:P,then:st,"catch":function(t){return this.then(null,t)}};var xt=V;V.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ut&&n<t;n++)this._eachEntry(e[n],n)},V.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===ct){var o=I(t);if(o===st&&t._state!==ut)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===yt){var r=new n(y);_(r,t,o),this._willSettleAt(r,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(i(t),e)},V.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===ut&&(this._remaining--,t===ht?k(i,n):this._result[e]=n),0===this._remaining&&S(i,this._result)},V.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){n._settledAt(dt,e,t)},function(t){n._settledAt(ht,e,t)})};var Ct=X,It={Promise:yt,polyfill:Ct};n(25).amd?(i=function(){return It}.call(e,n,e,r),!(void 0!==i&&(r.exports=i))):"undefined"!=typeof r&&r.exports?r.exports=It:"undefined"!=typeof this&&(this.ES6Promise=It),Ct()}).call(this)}).call(e,n(2),function(){return this}(),n(26)(t))},function(t,e,n){"undefined"==typeof Promise&&n(21).polyfill();var i=n(24),o=n(5),r=n(23),a={baseURL:"https://dev.api.ibm.com/virtualagent/development/api/v1/",timeout:3e4,userID:null,withCredentials:!1,XIBMClientID:!1,XIBMClientSecret:!1},s=o.create(a),c=/\|&(.*?)\|/g,l=function(t){var e="string"==typeof t?t:JSON.stringify(t),n=e.match(c)||[];return e=n.reduce(function(t,e){const n=e.slice(2,-1),i=r.get(n)||n;return t.replace(e,i)},e),"string"==typeof t?e:JSON.parse(e)},u=t.exports={configure:function(t){return i(a,t),s=o.create({baseURL:a.baseURL,timeout:a.timeout,withCredentials:a.withCredentials,headers:a.XIBMClientID&&a.XIBMClientSecret?{"X-IBM-Client-Id":a.XIBMClientID,"X-IBM-Client-Secret":a.XIBMClientSecret}:{}}),u},start:function(t){var e=d(),n={userID:a.userID,userLatLon:a.userLatLon},i="/bots/"+t+"/dialogs",o={headers:{"X-Request-ID":e}};return s.post(i,n,o).then(function(t){return{chatID:t.data.dialog_id,message:l(t.data.message)}})["catch"](function(t){console.error("Request failed:",e),h(t)})},send:function(t,e,n){var i=d(),o={message:n,userID:a.userID,userLatLon:a.userLatLon},r="/bots/"+t+"/dialogs/"+e+"/messages",c="message="+encodeURIComponent(n),u={headers:{"X-Request-ID":i}};return s.post(r+"?"+c,o,u).then(function(t){return{message:l(t.data.message)}})["catch"](function(t){console.error("Request failed:",i),h(t)})},parse:l,profile:{get:r.get,set:r.set,has:r.has,clear:r.clear,"delete":r["delete"],forEach:r.forEach}},d=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},h=function(t){if(!t.status)throw t;var e=t.status,n=t.statusText,i=new Error(n);throw i.status=e,i}},function(t,e){var n={},i={set:function(t,e){return n[t]=e,i},get:function(t){return n[t]||""},has:function(t){return void 0!==n[t]},clear:function(){return n={},i},"delete":function(t){return delete n[t],i},forEach:function(t,e){return Object.keys(n).forEach(function(i){e?t(i,n[i]).bind(e):t(i,n[i])}),i}};t.exports=i},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t){return function(e){return null==e?void 0:e[t]}}function o(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function r(t,e){return function(n){return t(e(n))}}function a(t,e,n){var i=t[e];A.call(t,e)&&m(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function s(t,e){return null!=t&&(A.call(t,e)||"object"==typeof t&&e in t&&null===U(t))}function c(t,e){return e=q(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,r=q(i.length-e,0),a=Array(r);++o<r;)a[o]=i[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=i[o];return s[e]=a,n(t,this,s)}}function l(t,e,n,i){n||(n={});for(var o=-1,r=e.length;++o<r;){var s=e[o],c=i?i(n[s],t[s],s,n,t):void 0;a(n,s,void 0===c?t[s]:c)}return n}function u(t){return c(function(e,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(o--,r):void 0,a&&p(n[0],n[1],a)&&(r=o<3?void 0:r,o=1),e=Object(e);++i<o;){var s=n[i];s&&t(e,s,i,r)}return e})}function d(t){var e=t?t.length:void 0;return x(e)&&(N(t)||w(t)||v(t))?o(e,String):null}function h(t,e){return e=null==e?M:e,!!e&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function p(t,e,n){if(!C(n))return!1;var i=typeof e;return!!("number"==i?b(n)&&h(e,n.length):"string"==i&&e in n)&&m(n[e],t)}function f(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||T;return t===n}function m(t,e){return t===e||t!==t&&e!==e}function v(t){return g(t)&&A.call(t,"callee")&&(!D.call(t,"callee")||$.call(t)==_)}function b(t){return null!=t&&x(j(t))&&!y(t)}function g(t){return I(t)&&b(t)}function y(t){var e=C(t)?$.call(t):"";return e==E||e==L}function x(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=M}function C(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return!!t&&"object"==typeof t}function w(t){return"string"==typeof t||!N(t)&&I(t)&&$.call(t)==S}function B(t){var e=f(t);if(!e&&!b(t))return R(t);var n=d(t),i=!!n,o=n||[],r=o.length;for(var a in t)!s(t,a)||i&&("length"==a||h(a,r))||e&&"constructor"==a||o.push(a);return o}var M=9007199254740991,_="[object Arguments]",E="[object Function]",L="[object GeneratorFunction]",S="[object String]",k=/^(?:0|[1-9]\d*)$/,T=Object.prototype,A=T.hasOwnProperty,$=T.toString,D=T.propertyIsEnumerable,H=Object.getPrototypeOf,z=Object.keys,q=Math.max,O=!D.call({valueOf:1},"valueOf"),R=r(z,Object),j=i("length"),U=r(H,Object),N=Array.isArray,F=u(function(t,e){if(O||f(e)||b(e))return void l(e,B(e),t);for(var n in e)A.call(e,n)&&a(t,n,e[n])});t.exports=F},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){}])})},/*!****************************!*\
  !*** ./~/lodash/assign.js ***!
  \****************************/
function(t,e,n){var i=n(/*! ./_assignValue */10),o=n(/*! ./_copyObject */20),r=n(/*! ./_createAssigner */21),a=n(/*! ./isArrayLike */8),s=n(/*! ./_isPrototype */12),c=n(/*! ./keys */31),l=Object.prototype,u=l.hasOwnProperty,d=l.propertyIsEnumerable,h=!d.call({valueOf:1},"valueOf"),p=r(function(t,e){if(h||s(e)||a(e))return void o(e,c(e),t);for(var n in e)u.call(e,n)&&i(t,n,e[n])});t.exports=p},/*!********************************!*\
  !*** ./src/templates/index.js ***!
  \********************************/
function(t,e,n){t.exports={input:n(/*! ./input.html */57),receive:n(/*! ./receive.html */59),send:n(/*! ./send.html */60),start:n(/*! ./start.html */61),loading:n(/*! ./loading.html */58)}},/*!*********************************!*\
  !*** ./~/lodash/isArrayLike.js ***!
  \*********************************/
function(t,e,n){function i(t){return null!=t&&r(t.length)&&!o(t)}var o=n(/*! ./isFunction */28),r=n(/*! ./isLength */29);t.exports=i},/*!******************************!*\
  !*** ./src/profile/index.js ***!
  \******************************/
function(t,e,n){var i=n(/*! @watson-virtual-agent/client-sdk/lib/web */5),o=i.profile;t.exports=o},/*!**********************************!*\
  !*** ./~/lodash/_assignValue.js ***!
  \**********************************/
function(t,e,n){function i(t,e,n){var i=t[e];a.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||(t[e]=n)}var o=n(/*! ./eq */13),r=Object.prototype,a=r.hasOwnProperty;t.exports=i},/*!******************************!*\
  !*** ./~/lodash/_isIndex.js ***!
  \******************************/
function(t,e){function n(t,e){return e=null==e?i:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},/*!**********************************!*\
  !*** ./~/lodash/_isPrototype.js ***!
  \**********************************/
function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}var i=Object.prototype;t.exports=n},/*!************************!*\
  !*** ./~/lodash/eq.js ***!
  \************************/
function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},/*!******************************!*\
  !*** ./~/lodash/isObject.js ***!
  \******************************/
function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},/*!****************************!*\
  !*** ./~/lodash/_apply.js ***!
  \****************************/
function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},/*!************************************!*\
  !*** ./~/lodash/_arrayLikeKeys.js ***!
  \************************************/
function(t,e,n){function i(t,e){var n=a(t)||r(t)?o(t.length,String):[],i=n.length,c=!!i;for(var u in t)!e&&!l.call(t,u)||c&&("length"==u||s(u,i))||n.push(u);return n}var o=n(/*! ./_baseTimes */19),r=n(/*! ./isArguments */25),a=n(/*! ./isArray */26),s=n(/*! ./_isIndex */11),c=Object.prototype,l=c.hasOwnProperty;t.exports=i},/*!*******************************!*\
  !*** ./~/lodash/_baseKeys.js ***!
  \*******************************/
function(t,e,n){function i(t){if(!o(t))return r(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var o=n(/*! ./_isPrototype */12),r=n(/*! ./_nativeKeys */23),a=Object.prototype,s=a.hasOwnProperty;t.exports=i},/*!*******************************!*\
  !*** ./~/lodash/_baseRest.js ***!
  \*******************************/
function(t,e,n){function i(t,e){return e=r(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=r(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=n[i];return c[e]=s,o(t,this,c)}}var o=n(/*! ./_apply */15),r=Math.max;t.exports=i},/*!********************************!*\
  !*** ./~/lodash/_baseTimes.js ***!
  \********************************/
function(t,e){function n(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}t.exports=n},/*!*********************************!*\
  !*** ./~/lodash/_copyObject.js ***!
  \*********************************/
function(t,e,n){function i(t,e,n,i){n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],c=i?i(n[s],t[s],s,n,t):void 0;o(n,s,void 0===c?t[s]:c)}return n}var o=n(/*! ./_assignValue */10);t.exports=i},/*!*************************************!*\
  !*** ./~/lodash/_createAssigner.js ***!
  \*************************************/
function(t,e,n){function i(t){return o(function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var c=n[i];c&&t(e,c,i,a)}return e})}var o=n(/*! ./_baseRest */18),r=n(/*! ./_isIterateeCall */22);t.exports=i},/*!*************************************!*\
  !*** ./~/lodash/_isIterateeCall.js ***!
  \*************************************/
function(t,e,n){function i(t,e,n){if(!s(n))return!1;var i=typeof e;return!!("number"==i?r(n)&&a(e,n.length):"string"==i&&e in n)&&o(n[e],t)}var o=n(/*! ./eq */13),r=n(/*! ./isArrayLike */8),a=n(/*! ./_isIndex */11),s=n(/*! ./isObject */14);t.exports=i},/*!*********************************!*\
  !*** ./~/lodash/_nativeKeys.js ***!
  \*********************************/
function(t,e,n){var i=n(/*! ./_overArg */24),o=i(Object.keys,Object);t.exports=o},/*!******************************!*\
  !*** ./~/lodash/_overArg.js ***!
  \******************************/
function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},/*!*********************************!*\
  !*** ./~/lodash/isArguments.js ***!
  \*********************************/
function(t,e,n){function i(t){return o(t)&&s.call(t,"callee")&&(!l.call(t,"callee")||c.call(t)==r)}var o=n(/*! ./isArrayLikeObject */27),r="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,c=a.toString,l=a.propertyIsEnumerable;t.exports=i},/*!*****************************!*\
  !*** ./~/lodash/isArray.js ***!
  \*****************************/
function(t,e){var n=Array.isArray;t.exports=n},/*!***************************************!*\
  !*** ./~/lodash/isArrayLikeObject.js ***!
  \***************************************/
function(t,e,n){function i(t){return r(t)&&o(t)}var o=n(/*! ./isArrayLike */8),r=n(/*! ./isObjectLike */30);t.exports=i},/*!********************************!*\
  !*** ./~/lodash/isFunction.js ***!
  \********************************/
function(t,e,n){function i(t){var e=o(t)?c.call(t):"";return e==r||e==a}var o=n(/*! ./isObject */14),r="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,c=s.toString;t.exports=i},/*!******************************!*\
  !*** ./~/lodash/isLength.js ***!
  \******************************/
function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},/*!**********************************!*\
  !*** ./~/lodash/isObjectLike.js ***!
  \**********************************/
function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},/*!**************************!*\
  !*** ./~/lodash/keys.js ***!
  \**************************/
function(t,e,n){function i(t){return a(t)?o(t):r(t)}var o=n(/*! ./_arrayLikeKeys */16),r=n(/*! ./_baseKeys */17),a=n(/*! ./isArrayLike */8);t.exports=i},/*!************************************************************!*\
  !*** ./~/raw-loader!./src/layouts/cc-validator/styles.css ***!
  \************************************************************/
function(t,e){t.exports='.IBMChat-creditcard-container {\n  margin-top: 1em;\n  padding: 1em 1.5em 1em 1.5em;\n  width: 240px;\n}\n\n.IBMChat-creditcard-container fieldset {\n  border:none;\n  margin:0;\n  padding:0;\n}\n\n.IBMChat-creditcard-row {\n  padding-bottom: 1em;\n}\n\n.IBMChat-creditcard-row input[name="cc_full_name"], .IBMChat-creditcard-row input[name="cc_number"] {\n  width: 100%;\n}\n\n.IBMChat-creditcard-row input[name="cc_exp_date_month"] {\n  max-width: 32px;\n}\n\n.IBMChat-creditcard-row input[name="cc_exp_date_year"], .IBMChat-creditcard-row input[name="cc_code"]  {\n  max-width: 64px;\n}\n\n.IBMChat-creditcard-col {\n  display: inline-block;\n}\n\n.IBMChat-creditcard-col:nth-child(2) {\n  padding-left:1.5em;\n}\n\n.IBMChat-creditcard-buttons:after {\n  visibility: hidden;\n  display: block;\n  font-size: 0;\n  content: " ";\n  clear: both;\n  height: 0;\n}\n\n.IBMChat-creditcard-buttons button {\n  width: 95px;\n  float: left;\n  text-overflow: clip;\n}\n\n.IBMChat-creditcard-buttons button:last-child {\n  float: right;\n  text-overflow: clip;\n}\n'},/*!******************************************************!*\
  !*** ./src/layouts/cc-validator/templates/base.html ***!
  \******************************************************/
function(t,e){t.exports='<div class="${ns}-container IBMChat-secondary-colors">\n  <div class="${ns}-row">\n    <fieldset aria-describedby="cc_full_name_${uuid}_error">\n      <label class="IBMChat-screen-reader-text" for="cc_full_name_${uuid}">Name on Card</label>\n      <input type="text" class="IBMChat-input-colors" id="cc_full_name_${uuid}" name="cc_full_name" placeholder="Name on Card"/>\n      <div id="cc_full_name_${uuid}_error" class="IBMChat-validation-error IBMChat-error-colors" data-validation-for="cc_full_name" data-valid="true" style="display:none;"></div>\n    </fieldset>\n  </div>\n  <div class="${ns}-row">\n    <fieldset aria-describedby="cc_number_${uuid}_error">\n      <label class="IBMChat-screen-reader-text" for="cc_number_${uuid}">Credit Card Number</label>\n      <input type="text" class="IBMChat-input-colors" id="cc_number_${uuid}" name="cc_number"  placeholder="Credit Card Number"/>\n      <div id="cc_number_${uuid}_error" class="IBMChat-validation-error IBMChat-error-colors" data-validation-for="cc_number" data-valid="true" style="display:none;"></div>\n    </fieldset>\n  </div>\n  <div class="${ns}-row">\n    <div class="${ns}-col">\n      <fieldset aria-describedby="cc_exp_date_${uuid}_error">\n        <label class="IBMChat-screen-reader-text" for="cc_exp_date_month_${uuid}">Expiration Date Month</label>\n        <input class="${ns}-date IBMChat-input-colors" type="text" id="cc_exp_date_month_${uuid}" name="cc_exp_date_month" placeholder="MM" size="3" />\n        <label class="IBMChat-screen-reader-text" for="cc_exp_date_year_${uuid}">Expiration Date Year</label>\n        <input class="${ns}-date IBMChat-input-colors" type="text" id="cc_exp_date_year_${uuid}" name="cc_exp_date_year" placeholder="YYYY" size="5" />\n      </fieldset>\n    </div>\n    <div class="${ns}-col">\n      <fieldset aria-describedby="cc_code_${uuid}_error">\n        <label class="IBMChat-screen-reader-text" for="cc_code_${uuid}">CVV</label>\n        <input class="${ns}-cvv IBMChat-input-colors" type="text" id="cc_code_${uuid}" name="cc_code" placeholder="CVV" size="5"/>\n      </fieldset>\n    </div>\n    <div id="cc_exp_date_${uuid}_error" class="IBMChat-validation-error IBMChat-error-colors" data-validation-for="cc_exp_date" data-valid="true" style="display:none;"></div>\n    <div id="cc_code_${uuid}_error" class="IBMChat-validation-error IBMChat-error-colors" data-validation-for="cc_code" data-valid="true" style="display:none;"></div>\n  </div>\n  <div class="${ns}-buttons">\n    <button class="${ns}-cancel">Cancel</button>\n    <button class="${ns}-submit">Submit</button>\n  </div>\n</div>\n'},/*!********************************************************************!*\
  !*** ./~/raw-loader!./src/layouts/choose-location-type/styles.css ***!
  \********************************************************************/
function(t,e){t.exports=".IBMChat-islocationapi-container > div {\n\tmargin-top: 1em;\n}\n"},/*!**************************************************************!*\
  !*** ./src/layouts/choose-location-type/templates/base.html ***!
  \**************************************************************/
function(t,e){t.exports='<div class="${ns}-container">\n  <div><button class="IBMChat-accent-colors-button" data-input="${values.geolocation}">Current Location</button></div>\n  <div><button class="IBMChat-accent-colors-button" data-input="${values.postalcode}">Zip Code</button></div>\n</div>\n'},/*!******************************************************!*\
  !*** ./~/raw-loader!./src/layouts/choose/styles.css ***!
  \******************************************************/
function(t,e){t.exports=".IBMChat-choose-container > div {\n\tmargin-top: 1em;\n}\n"},/*!**************************************************!*\
  !*** ./src/layouts/choose/templates/button.html ***!
  \**************************************************/
function(t,e){t.exports='<button class="IBMChat-accent-colors-button" data-input="${text}">${text}</button>\n'},/*!**************************************************!*\
  !*** ./src/layouts/choose/templates/submit.html ***!
  \**************************************************/
function(t,e){t.exports="<button>${text}</button>\n"},/*!*****************************************************!*\
  !*** ./~/raw-loader!./src/layouts/error/styles.css ***!
  \*****************************************************/
function(t,e){t.exports=".IBMChat-error {\n  padding: 0.5em 1em 0.5em 1em;\n}\n"},/*!***********************************************!*\
  !*** ./src/layouts/error/templates/base.html ***!
  \***********************************************/
function(t,e){t.exports='<div class="IBMChat-error IBMChat-error-colors"></div>\n'},/*!****************************************************!*\
  !*** ./~/raw-loader!./src/layouts/form/styles.css ***!
  \****************************************************/
function(t,e){t.exports='.IBMChat-form-container {\n  margin-top: 1em;\n  padding: 1em 1.5em 1em 1.5em;\n  width: 240px;\n}\n\n.IBMChat-form-container fieldset {\n  border:none;\n  margin:0;\n  padding:0;\n}\n\n.IBMChat-form-fields {\n  width:100%;\n}\n\n.IBMChat-form-fields-row {\n  padding-bottom:1.5em;\n}\n\n.IBMChat-form-fields-row input {\n  width: 100%;\n}\n\n.IBMChat-form-buttons {\n  text-align:center;\n  width: 100%;\n}\n\n.IBMChat-form-buttons:after {\n  visibility: hidden;\n  display: block;\n  font-size: 0;\n  content: " ";\n  clear: both;\n  height: 0;\n}\n\n.IBMChat-form-cancel {\n  float:left;\n  max-width: 50%;\n}\n.IBMChat-form-submit {\n  float:right;\n  max-width: 50%;\n}\n'},/*!**********************************************!*\
  !*** ./src/layouts/form/templates/base.html ***!
  \**********************************************/
function(t,e){t.exports='<div class="IBMChat-form-container IBMChat-secondary-colors">\n  <div class="IBMChat-form-fields"></div>\n  <div class="IBMChat-form-buttons">\n    <button class="IBMChat-form-cancel">${cancel}</button>\n    <button class="IBMChat-form-submit">${submit}</button>\n  </div>\n</div>\n'},/*!***********************************************!*\
  !*** ./src/layouts/form/templates/field.html ***!
  \***********************************************/
function(t,e){t.exports='<fieldset aria-describedby="${name}_${uuid}_error">\n  <label for="${name}_${uuid}">${label}</label>\n  <input type="${type}" class="IBMChat-input-colors" id="${name}_${uuid}" name="${name}" value="${value}" />\n  <div id="${name}_${uuid}_error" class="IBMChat-validation-error IBMChat-error-colors" style="display:none;" data-validation-for="${name}" data-valid="true"></div>\n</fieldset>\n'},/*!**************************************************************!*\
  !*** ./~/raw-loader!./src/layouts/show-locations/styles.css ***!
  \**************************************************************/
function(t,e){t.exports='.IBMChat-map {\n  margin-top: 1em;\n}\n\n.IBMChat-map-data {\n  font-size:0.85em;\n}\n\n.IBMChat-map-img {\n  text-align: left;\n}\n\n.IBMChat-map-img img {\n  margin: 0 0 0.5em 0;\n  height: 120px;\n}\n\n.IBMChat-map-multiple-locations {\n  cursor: default;\n  display: table;\n  width: 100%;\n}\n\n.IBMChat-map-multiple-locations .IBMChat-map-locations-row {\n  display:table-row;\n  width: 100%;\n}\n\n.IBMChat-map-multiple-locations .IBMChat-map-locations-cell {\n  display: table-cell;\n  overflow: hidden;\n  word-wrap: break-word;\n}\n\n.IBMChat-map-location-active .IBMChat-map-multiple-locations {\n  opacity: 1;\n}\n\n.IBMChat-map-locations-item.IBMChat-map-multiple-locations {\n  padding: 0.5em 0 0.5em 0;\n  white-space: normal;\n}\n\n.IBMChat-disabled-layout .IBMChat-map-locations-item.IBMChat-map-multiple-locations {\n  cursor: default;\n}\n\n.IBMChat-map-data-section {\n  margin-top:0.5em;\n}\n\n.IBMChat-map-data-float-holder:after {\n  visibility: hidden;\n  display: block;\n  font-size: 0;\n  content: " ";\n  clear: both;\n  height: 0;\n}\n\n.IBMChat-map-locations-item {\n  border-bottom:1px solid #505050;\n  text-align:left;\n  padding: 1em;\n}\n\n\n.IBMChat-map-locations-item-icon-holder {\n  text-align:center;\n  width: 40px;\n}\n\n.IBMChat-map-locations-item-icon {\n  border-radius: 24px;\n  height:24px;\n  line-height: 24px;\n  margin-right:8px;\n  width:24px;\n}\n\n.IBMChat-map-locations-item-data {\n\n}\n.IBMChat-map-locations-item-data-title {\n  font-size:1.3em;\n  font-weight:300;\n  line-height:1.2em;\n}\n\n.IBMChat-map-locations-item-data-section {\n  padding-bottom:0.5em;\n}\n\n.IBMChat-map-locations-item-data-email {\n  padding-bottom:0;\n}\n\n.IBMChat-map-locations-item-data-phone {\n  display: table;\n  max-width:400px;\n  width: 100%;\n}\n.IBMChat-map-contact-row {\n  padding-bottom:0.5em;\n}\n\n.IBMChat-map-contact-type {\n  font-size:0.9em;\n}\n\n.IBMChat-map-locations-item-distance {\n  font-size:0.9em;\n  width:64px;\n}\n\nbutton.IBMChat-map-locations-all {\n  font-size:0.9em;\n  line-height:1.5em;\n  margin: 1em 0 0 0;\n  padding: 0 0.5em 0 0.5em;\n}\n\n\n.IBMChat-map-hours-open {\n  font-weight: bold;\n}\n\n.IBMChat-map-days-hours-day, .IBMChat-map-days-hours-hours, .IBMChat-map-days-hours-closed {\n  overflow: hidden;\n  word-wrap: break-word;\n}\n\n.IBMChat-map-days-hours-day {\n  font-weight: bold;\n}\n\n.IBMChat-map-hours-timezone {\n  font-size: 0.8em;\n  padding-bottom: 0.5em;\n}\n\n.IBMChat-map-locations-item-data-hours {\n  margin-top:0.5em;\n}\n\n.IBMChat-isLarge .IBMChat-map-locations-item-data {\n  float:left;\n  padding-right:5%;\n  width:45%;\n}\n.IBMChat-isLarge .IBMChat-map-locations-item-data-hours {\n  margin-top:0;\n}\n.IBMChat-isLarge .IBMChat-map-locations-item-data-more-hours {\n  margin-top:0.5em;\n}\n'},/*!*********************************************************************!*\
  !*** ./src/layouts/show-locations/templates/add-location-item.html ***!
  \*********************************************************************/
function(t,e){t.exports='<div class="${ns}-locations-item ${ns}-data-section">\n  <div class="${ns}-locations-item-data-title"></div>\n  <div class="${ns}-data-float-holder">\n    <div class="${ns}-locations-item-data">\n      <div class="${ns}-locations-item-data-items">\n        <div class="${ns}-locations-item-data-section">\n          <a class="${ns}-locations-item-data-address-link">\n            <div class="${ns}-locations-item-data-address"></div>\n          </a>\n        </div>\n        <div class="IBMChat-small-hide">\n          <div class="${ns}-locations-item-data-hours"></div>\n          <div class="${ns}-locations-item-data-timezone"></div>\n          <div class="${ns}-locations-item-data-more-hours"></div>\n        </div>\n      </div>\n    </div>\n    <div class="${ns}-locations-item-data">\n      <div class="${ns}-locations-item-data-items">\n        <div class="${ns}-locations-item-data-phone"></div>\n        <div class="${ns}-locations-item-data-email"></div>\n      </div>\n    </div>\n    <div class="${ns}-locations-item-distance"></div>\n  </div>\n  <div>\n    <div class="${ns}-locations-item-data-items">\n      <div class="IBMChat-small-show">\n        <div class="${ns}-locations-item-data-hours"></div>\n        <div class="${ns}-locations-item-data-timezone"></div>\n        <div class="${ns}-locations-item-data-more-hours"></div>\n      </div>\n    </div>\n    <div class="${ns}-locations-all-holder">\n      <button class="${ns}-locations-all IBMChat-accent-colors-button">All Locations</button>\n    </div>\n  </div>\n</div>\n'},/*!**********************************************************************!*\
  !*** ./src/layouts/show-locations/templates/add-locations-item.html ***!
  \**********************************************************************/
function(t,e){t.exports='<button aria-label="${address}" class="${ns}-locations-item ${ns}-multiple-locations ${ns}-data-section">\n  <div class="${ns}-locations-row">\n    <div class="${ns}-locations-item-icon-holder ${ns}-locations-cell">\n      <div class="${ns}-locations-item-icon" style="color: ${accentText}; background: ${accentBackground};">${iconText}</div>\n    </div>\n    <div class="${ns}-locations-cell">\n      <div class="${ns}-locations-item-data-title">${title}</div>\n      <div class="${ns}-locations-item-data-items">\n        <div class="${ns}-locations-item-data-address">${address}</div>\n        <div class="${ns}-locations-item-distance">${distance}</div>\n      </div>\n    </div>\n  </div>\n</button>\n'},/*!********************************************************!*\
  !*** ./src/layouts/show-locations/templates/base.html ***!
  \********************************************************/
function(t,e){t.exports='<div class="${ns}">\n  <div class="${ns}-img"></div>\n  <div class="${ns}-data"></div>\n</div>\n'},/*!********************************************************************!*\
  !*** ./src/layouts/show-locations/templates/create-dom-array.html ***!
  \********************************************************************/
function(t,e){t.exports='<div class="${ns}-contact-type"></div>\n<div class="${ns}-contact-data"></div>\n'},/*!****************************************************************!*\
  !*** ./src/layouts/show-locations/templates/hours-closed.html ***!
  \****************************************************************/
function(t,e){t.exports='<span class="${ns}-days-hours-day">${day}:</span>&nbsp;<span class="${ns}-days-hours-hours">Closed</span>\n'},/*!**************************************************************!*\
  !*** ./src/layouts/show-locations/templates/hours-open.html ***!
  \**************************************************************/
function(t,e){t.exports='<span class="${ns}-days-hours-day">${day}:</span>&nbsp;<span class="${ns}-days-hours-hours">${open} &ndash; ${close}</span>\n'},/*!******************************************************************!*\
  !*** ./src/layouts/show-locations/templates/hours-timezone.html ***!
  \******************************************************************/
function(t,e){t.exports='<div class="${ns}-hours-timezone">( ${timezone} )</div>'},/*!**********************************************************************!*\
  !*** ./src/layouts/show-locations/templates/hours-today-closed.html ***!
  \**********************************************************************/
function(t,e){t.exports='<span class="${ns}-hours-open">Closed today.</span>\n'},/*!********************************************************************!*\
  !*** ./src/layouts/show-locations/templates/hours-today-open.html ***!
  \********************************************************************/
function(t,e){t.exports='<span class="${ns}-hours-open">Open today:</span>\n<span class="${ns}-hours-today">\n  ${open} &ndash; ${close}\n</span>\n'},/*!***********************************************************************!*\
  !*** ./src/layouts/show-locations/templates/hours-today-unknown.html ***!
  \***********************************************************************/
function(t,e){t.exports='<span class="${ns}-hours-open">Open today</span>\n'},/*!*****************************************************************!*\
  !*** ./src/layouts/show-locations/templates/hours-unknown.html ***!
  \*****************************************************************/
function(t,e){t.exports='<span class="${ns}-days-hours-day">${day}:</span>&nbsp;<span class="${ns}-days-hours-hours">Hours unknown</span>\n'},/*!***************************************!*\
  !*** ./~/raw-loader!./src/styles.css ***!
  \***************************************/
function(t,e){t.exports='.IBMChat {\n  height: 100%;\n  width: 100%;\n}\n\n/* utils */\n\n.IBMChat-hidden {\n  display: none;\n}\n\n.IBMChat-outer-container {\n  border: none;\n  box-sizing: border-box;\n  display: table;\n  table-layout: fixed;\n  font-weight: normal;\n  line-height: 1em;\n  height: 100%;\n  margin: 0 auto 0 auto;\n  max-width: 768px;\n  min-height: 100px;\n  min-width: 288px;\n  padding: 0;\n  position: relative;\n  text-align: left;\n  width: 100%;\n}\n\n\n/* Agent Component */\n\n.IBMChat-inner-container {\n  display: table-cell;\n  height: 100%;\n  margin: 0;\n  padding: 0 1em 0 1em;\n  vertical-align: bottom;\n}\n\n/* Chat Component */\n\n.IBMChat-chat-container {\n  display: table-row;\n  margin: 0;\n  padding: 0;\n}\n\n/* Messages Component */\n\n.IBMChat-messages {\n  height: auto;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding: 0 1em 0 1em;\n}\n\n.IBMChat-messages label {\n  display: block;\n  font-weight: bold;\n  text-transform: capitalize;\n}\n\n.IBMChat-messages input {\n  border: 0;\n  border-radius: 0;\n  font-size: 1em;\n  margin: 0;\n  padding: 0 0 0.25em 0;\n}\n\n.IBMChat-messages button {\n  background: none;\n  border: 0;\n  border-radius: 1em;\n  color: inherit;\n  cursor: pointer;\n  font: inherit;\n  line-height: 1.5em;\n  margin: 0;\n  overflow: hidden;\n  padding: 0.25em 1em 0.25em 1em;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  -webkit-appearance: button; /* for input */\n  -webkit-user-select: none; /* for button */\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.IBMChat-messages button[disabled="true"] {\n  cursor: default;\n  opacity: .7;\n}\n\n.IBMChat-messages button[disabled="true"]:focus {\n  outline: none;\n}\n\n.IBMChat-messages button::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n.IBMChat-watson-intent a {\n  display: inline-block;\n  margin: 1em 0 1em 0;\n}\n\n/* WatsonMessage Component */\n\n.IBMChat-watson-message-container {\n  margin: 1em 0 1em 0;\n  position: relative;\n}\n\n.IBMChat-watson-message {\n  line-height: 1.5em;\n  min-height: 1.5em;\n  padding: 0 0 0 1em;\n  word-wrap: break-word;\n}\n\n.IBMChat-watson-message a {\n  display: inline-block;\n  word-break: break-all;\n}\n\n.IBMChat-watson-message-line {\n  left: 0;\n  height: 1.5em;\n  position: absolute;\n  top: 0;\n}\n\n.IBMChat-disabled-layout {\n  opacity: 0.7;\n}\n\n/* UserMessage Component */\n\n.IBMChat-user-message-container {\n\tmargin: 1em 0 1em 2em;\n\ttext-align: right;\n}\n\n.IBMChat-user-message {\n  border-radius: 4px;\n  display: inline-block;\n  line-height: 1.5em;\n  padding: 0.5em 0.75em 0.5em 0.75em;\n  text-align: left;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n}\n\n/* Input Component */\n\n.IBMChat-input-container {\n  display: table-row;\n  margin: 0;\n  padding: 0;\n}\n\n.IBMChat-input-form {\n  display: table-cell;\n  position: relative;\n  min-height: 30px;\n}\n\n.IBMChat-chat-textbox-container {\n  min-height: 30px;\n  margin: 1em 2em 2em 2em;\n}\n\n.IBMChat-chat-textbox-clone-holder {\n  height: 0;\n  overflow: hidden;\n}\n\n.IBMChat-chat-textbox-clone {\n  border-bottom: 1px solid transparent;\n  font-weight: normal;\n  line-height: 1.5em;\n  margin: 0;\n  min-height: 26px;\n  padding: 0;\n  position: relative;\n  white-space: pre-wrap;\n  white-space: pre-line;\n  word-wrap: break-word;\n  visibility: hidden;\n}\n\n.IBMChat-chat-textbox {\n  background: transparent;\n  border: none;\n  border-radius: 0;\n  border-image-width: 0;\n  color: inherit;\n  font-weight: normal;\n  height: 1.5em;\n  line-height: 1.5em;\n  margin: 0;\n  min-height: 26px;\n  overflow: hidden;\n  padding: 0 0 3px 0;\n  resize: none;\n  text-wrap: unrestricted;\n  vertical-align: bottom;\n  width: 100%;\n  white-space: pre-wrap;\n  white-space: pre-line;\n  word-wrap: break-word;\n}\n\n.IBMChat-chat-textbox[disabled=\'disabled\'] {\n  opacity: 0.5;\n}\n\n.IBMChat-input-form::-webkit-input-placeholder {\n  opacity: 1;\n}\n\n.IBMChat-chat-textbox:focus {\n\toutline: none;\n\tpadding: 0 0 2px 0;\n}\n\n/* Layout Component */\n.IBMChat-watson-layout {\n  padding: 4px;\n}\n\n/* validation error message */\n.IBMChat-validation-error {\n  padding: 0.5em;\n  font-size: 0.9em;\n}\n\n/* class to hide an element from everyone but screen readers for visually impared */\n\n.IBMChat-screen-reader-text {\n\tclip: rect(1px, 1px, 1px, 1px);\n\theight: 1px;\n\twidth: 1px;\n\toverflow: hidden;\n\tposition: absolute !important;\n}\n\n/* Loading */\n\n.IBMChat-loading-container {\n  margin-bottom: 1em;\n}\n\n.IBMChat-loading {\n  min-height: 30px;\n  position: relative;\n}\n\n.IBMChat-loading-icon {\n  height: 30px;\n  position: absolute;\n  top: 0;\n  left: -4px;\n  width: 10px;\n}\n\n.IBMChat-loading-icon svg {\n  height: 30px;\n  width: 10px;\n}\n\n.IBMChat-loading-message {\n  display: inline-block;\n  min-height: 30px;\n  line-height: 1.2em;\n  padding: 5px 1em 0 1em;\n}\n\n.IBMChat-bouncing {\n  animation: bounceBack 420ms infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n  animation-timing-function: cubic-bezier(.42,0,1,1);\n}\n\n.IBMChat-bouncing:nth-child(2) {\n  animation: bounce 420ms infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n  animation-timing-function: cubic-bezier(.42,0,1,1);\n}\n\n@keyframes bounce {\n  0% {\n    transform: translateY(5px);\n  }\n  72% {\n    transform: translateY(-5px);\n  }\n  72%,100%{\n    transform: translateY(-5px);\n  }\n}\n\n@keyframes bounceBack {\n  0% {\n    transform: translateY(-5px);\n  }\n  72% {\n    transform: translateY(5px);\n  }\n  72%,100%{\n    transform: translateY(5px);\n  }\n}\n\n/* responsive */\n\n.IBMChat-small-show {\n  display: unset;\n}\n\n.IBMChat-small-hide {\n  display: none;\n}\n\n.IBMChat-isLarge .IBMChat-small-show {\n  display: none;\n}\n.IBMChat-isLarge .IBMChat-small-hide {\n  display: unset;\n}\n'},/*!**********************************!*\
  !*** ./src/templates/input.html ***!
  \**********************************/
function(t,e){t.exports='<form class="IBMChat-input-form">\n  <div class="IBMChat-chat-textbox-container">\n    <textarea aria-labelledby="Enter a Message" class="IBMChat-chat-textbox" placeholder="${placeholder}"></textarea>\n    <div class="IBMChat-chat-textbox-clone-holder">\n      <div class="IBMChat-chat-textbox-clone" aria-hidden="true">${placeholder}</div>\n    </div>\n  </div>\n</form>\n'},/*!************************************!*\
  !*** ./src/templates/loading.html ***!
  \************************************/
function(t,e){t.exports='<section class="IBMChat-loading-container">\n  <div class="IBMChat-loading IBMChat-hidden">\n    <div class="IBMChat-loading-icon" aria-hidden="true">\n      <svg xmlns="http://www.w3.org/2000/svg">\n        <circle class="IBMChat-ball IBMChat-bouncing" cx="5px" cy="10px" r="2.5"/>\n        <circle class="IBMChat-ball IBMChat-bouncing" cx="5px" cy="20px" r="2.5"/>\n        <circle class="IBMChat-ball" cx="5px" cy="15px" r="2.5"/>\n      </svg>\n    </div>\n    <div class="IBMChat-loading-message">\n      <span class="IBMChat-loading-message-text"></span>\n      <span class="IBMChat-loading-message-retry">\n        <span class="IBMChat-loading-retry-message IBMChat-hidden">${retryAttempt}</span>\n      </span>\n    </div>\n  </div>\n  <div class="IBMChat-loading-failure-message IBMChat-watson-message-container IBMChat-hidden">\n    <div class="IBMChat-watson-message-line"></div>\n    <div class="IBMChat-watson-message">\n      <span class="IBMChat-loading-failure-message-text"></span>\n      <a class="IBMChat-loading-retry-link" data-retry="true" href="javascript:void(false);">${retry}</a>\n    </div>\n  </div>\n</section>\n'},/*!************************************!*\
  !*** ./src/templates/receive.html ***!
  \************************************/
function(t,e){t.exports='<div class="IBMChat-watson-message-container">\n  <div class="IBMChat-watson-message-line"></div>\n</div>\n'},/*!*********************************!*\
  !*** ./src/templates/send.html ***!
  \*********************************/
function(t,e){t.exports='<div id="${data.uuid}" class="IBMChat-user-message-container">\n  <div class="IBMChat-user-message IBMChat-secondary-colors"></div>\n</div>\n'},/*!**********************************!*\
  !*** ./src/templates/start.html ***!
  \**********************************/
function(t,e){t.exports='<div class="IBMChat">\n  <div class="IBMChat-outer-container IBMChat-default-colors">\n    <div class="IBMChat-fade"></div>\n    <div class="IBMChat-chat-container">\n      <div class="IBMChat-inner-container">\n        <div class="IBMChat-messages"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},/*!*********************************************!*\
  !*** ./src/layouts/cc-validator/styles.css ***!
  \*********************************************/
[98,32],/*!*****************************************************!*\
  !*** ./src/layouts/choose-location-type/styles.css ***!
  \*****************************************************/
[98,34],/*!***************************************!*\
  !*** ./src/layouts/choose/styles.css ***!
  \***************************************/
[98,36],/*!**************************************!*\
  !*** ./src/layouts/error/styles.css ***!
  \**************************************/
[98,39],/*!*************************************!*\
  !*** ./src/layouts/form/styles.css ***!
  \*************************************/
[98,41],/*!***********************************************!*\
  !*** ./src/layouts/show-locations/styles.css ***!
  \***********************************************/
[98,44],/*!************************!*\
  !*** ./src/styles.css ***!
  \************************/
function(t,e,n){var i=n(/*! !./../~/raw-loader!./styles.css */56);"string"==typeof i&&(i=[[t.id,i,""]]);n(/*! ./../~/style-loader/addStyles.js */4)(i,{});i.locals&&(t.exports=i.locals)},/*!**************************!*\
  !*** ./src/bootstrap.js ***!
  \**************************/
function(t,e,n){function i(t,e){x.subscribe("start",C.start),x.subscribe("chatID",C.chatID),x.subscribe("resize",C.resize),x.subscribe("disable-input",C.input.disableInput),x.subscribe("enable-loading",C.input.enableLoadingInput),x.subscribe("disable-loading",C.input.disableLoadingInput),x.subscribe("scroll-to-bottom",C.scrollToBottom),x.subscribe("receive",C.receive),e===!0?x.subscribe("send",C.sendMock):(x.subscribe("clear",C.clear),x.subscribe("send",C.send.send),x.subscribe("retry",C.send.retry),x.subscribe("send-input-message",C.sendInputMessage),x.subscribe("enable-retry",C.error.retry),x.subscribe("enable-input",C.input.enableInput),x.subscribe("focus-input",C.input.focusInput),x.subscribe("send-mock",C.sendMock),x.subscribe("error-clear",C.error.clearError),x.subscribe("reset",C.reset)),t===!0&&(x.subscribe("try-it-error",C.error.tryIt),x.subscribe("try-it-layout-subscription",C.tryIt.layoutError),x.subscribe("try-it-action-subscription",C.tryIt.actionError),x.subscribe("try-it-receive-intent-data",C.tryIt.intent))}function o(){a("show-locations",y.showLocations.init,!0),a("choose-location-type",y.chooseLocationType.init,!0),a("request-geolocation-latlong",y.requestGeolocationLatlong.init,!0),a("request-geolocation-zipcode",y.requestGeolocationZipcode.init,!0),a("choose",y.choose.init,!0),a("form",y.form.init,!0),a("cc-validator",y.creditCard.init,!0),a("error",y.error.init,!0);for(var t=0;t<S.length;t++)L[S[t]]()}function r(t){var e=w.get();if(e.active===!0)return b().then(function(){r(t)});var n="string"==typeof t.el?document.getElementById(t.el):t.el,a=B.getSDKConfig(t);return new window.Promise(function(e,r){var s={active:!0,root:n,mapsServer:"https://dp1-i-serve-maps.mybluemix.net",botID:t.botID,styles:_({},E,t.styles),baseURL:a.baseURL,originalContent:n.innerHTML,handleInput:{"default":!0},minSeconds:t.minSeconds||0===t.minSeconds?t.minSeconds:.75,chatStyleID:"chatStyleID-"+B.getUUID(),tryIt:t.tryIt||!1,playback:t.playback||!1};B.checkRoot(n)?(t.errorHandler?x.subscribe("httpError",t.errorHandler,t.errorHandlerContext):x.subscribe("httpError",C.error.httpError),i(t.tryIt,t.playback),o(),t.playback===!0?(x.publish("start",s),setTimeout(function(){x.publish("chatID","playback")},0),setTimeout(function(){e()},0)):t.botID?(x.publish("start",s),x.publish("enable-loading"),x.publish("disable-input"),I.configure(a).start(t.botID).then(function(t){x.publish("chatID",t.chatID),x.publish("receive",t)})["catch"](function(t){x.publish("httpError",t)}).then(function(){setTimeout(function(){x.publish("enable-input"),e()},0)})):(console.error("BotID is required!"),b(),r({error:"BotID is required!"}))):(console.error("Element for chat does not exist!"),b(),r({error:"Element for chat does not exist!"}))})}function a(t,e,n){t&&e&&"function"==typeof e?S.indexOf(t)!==-1&&n||(S.push(t),L[t]=e):console.error("registerLayout was configured incorrectly.")}function s(t){if(t){var e=w.get();e.active&&x.publish("send",{text:t})}else console.error("The message was empty.")}function c(t){if(t){var e=w.get();e.active&&x.publish("receive",t)}else console.error("The message was empty.")}function l(t){if(t){var e=w.get();e.active&&x.publish("send-mock",{text:t})}else console.error("The message was empty.")}function u(t){if(t){var e=w.get();e.active&&x.publish("send",{text:t,silent:!0})}else console.error("The message was empty.")}function d(t){t&&t.callback&&"function"==typeof t.callback?w.set({handleInput:{"default":!1,callback:t.callback,context:t.context}}):console.error("Invalid configuration of enableCustomInputHandler")}function h(){w.set({handleInput:{"default":!0}})}function p(){var t=w.get();t.active&&x.publish("focus-input")}function f(){var t=w.get();t.active&&x.publish("disable-input")}function m(){var t=w.get();t.active&&x.publish("enable-input")}function v(){w.set({DEBUG:!0})}function b(){return new window.Promise(function(t){var e=w.get();e.active&&(e.root&&e.onResize&&B.removeResizeListener(e.root,e.onResize),x.publish("destroy"),x.destroy(),"undefined"!=typeof e.originalContent&&e.root&&(e.root.innerHTML=e.originalContent),w.destroy()),t()})}function g(){return console.warn("The IBMChat.restart method is deprecated. Use IBMChat.clear() instead."),new window.Promise(function(t,e){var n=w.get();b().then(function(){setTimeout(function(){r({el:n.root,botID:n.botID,baseURL:n.baseURL}).then(function(){t()})["catch"](function(t){e(t)})},10)})["catch"](function(t){e(t)})})}var y=n(/*! ./layouts */90),x=n(/*! ./events */1),C=n(/*! ./events/handlers */73),I=n(/*! @watson-virtual-agent/client-sdk/lib/web */5),w=n(/*! ./state */2),B=n(/*! ./utils */3),M=n(/*! ./profile */9),_=n(/*! lodash/assign */6),E=n(/*! ./styles */94),L={},S=[];t.exports={profile:M,init:r,registerLayout:a,send:s,receive:c,sendMock:l,sendSilently:u,enableCustomInputHandler:d,disableCustomInputHandler:h,focusInput:p,disableInput:f,enableInput:m,subscribe:x.subscribe,subscribeOnce:x.subscribeOnce,publish:x.publish,debug:v,destroy:b,restart:g,currentSubscriptions:x.currentSubscriptions,hasSubscription:x.hasSubscription,completeEvent:x.completeEvent,state:w,clear:function(){x.publish("restart")}}},/*!***************************************!*\
  !*** ./src/events/handlers/chatid.js ***!
  \***************************************/
function(t,e,n){function i(t){var e=o.get(),n="chatID-",i=e.root.className.split(" ").filter(function(t){return 0!==t.lastIndexOf(n,0)});o.set({chatID:t}),window.sessionStorage.setItem("IBMChatChatID",t),e.root.className=i.join(" ").trim(),e.root.classList.add(n+t)}var o=n(/*! ../../state */2);t.exports=i},/*!**************************************!*\
  !*** ./src/events/handlers/clear.js ***!
  \**************************************/
function(t,e,n){function i(){var t=o.get();o.set({messages:[]}),t.root.classList.add("chatID-"+t.chatID),t.input.value="",t.inputClone.innerHTML="Enter message...",t.chatHolder.innerHTML="",r.publish("resize-input"),r.publish("resize")}var o=n(/*! ../../state */2),r=n(/*! ../../events */1);t.exports=i},/*!**************************************!*\
  !*** ./src/events/handlers/error.js ***!
  \**************************************/
function(t,e,n){function i(){setTimeout(function(){var t=c.get(),e=t.root.querySelector(".IBMChat-loading-container");e&&t.chatHolder.removeChild(e),c.set({errorCount:0})},0)}function o(t){setTimeout(function(){console.error(t);var e=c.get(),n=l.basic,i=e.errorCount||0;t.status&&l[t.status]&&(n=l[t.status]),s.publish("enable-loading",n),c.set({errorCount:i+1}),s.publish("enable-retry")},0)}function r(){setTimeout(function(){var t=c.get(),e=t.errorCount,n=t.root.querySelector(".IBMChat-loading-retry-message"),i=t.root.querySelector(".IBMChat-loading"),o=t.root.querySelector(".IBMChat-loading-failure-message"),r=t.root.querySelector(".IBMChat-loading-failure-message-text");if(e>4){var a="I cannot complete your request. You can try a new request or ";t.chatID?s.publish("enable-input"):(a="I cannot complete your request. Please ",s.publish("disable-input")),i.classList.add("IBMChat-hidden"),r.innerText=a,o.classList.remove("IBMChat-hidden"),s.publish("scroll-to-bottom"),c.set({sendQueue:[],inProgress:!1})}else 0!==e&&(o.classList.add("IBMChat-hidden"),n.classList.remove("IBMChat-hidden"),setTimeout(function(){s.publish("retry")},5e3))},0)}function a(t){s.publish("layout:error",t)}var s=n(/*! ../../events */1),c=n(/*! ../../state */2),l={basic:"I am sorry, I am having difficulties."};t.exports={httpError:o,retry:r,clearError:i,tryIt:a}},/*!**************************************!*\
  !*** ./src/events/handlers/index.js ***!
  \**************************************/
function(t,e,n){var i=n(/*! ./start */82),o=n(/*! ./resize */77),r=n(/*! ./receive */75),a=n(/*! ./send */81),s=n(/*! ./send-mock */80),c=n(/*! ./send-input-message */79),l=n(/*! ./input */74),u=n(/*! ./error */72),d=n(/*! ./scroll-to-bottom */78),h=n(/*! ./try-it */83),p=n(/*! ./clear */71),f=n(/*! ./reset */76),m=n(/*! ./chatid */70);t.exports={resize:o,start:i,clear:p,send:a,sendMock:s,receive:r,input:l,error:u,scrollToBottom:d,sendInputMessage:c,tryIt:h,chatID:m,reset:f}},/*!**************************************!*\
  !*** ./src/events/handlers/input.js ***!
  \**************************************/
function(t,e,n){function i(){var t=c.get();c.set({disableInput:!1}),t.input.removeAttribute("disabled")}function o(){var t=c.get();c.set({disableInput:!0}),t.input.setAttribute("disabled","disabled")}function r(t){var e,n;setTimeout(function(){e=c.get(),t=t||"Agent is thinking...",n=e.root.querySelector(".IBMChat-loading-container"),n&&e.chatHolder.removeChild(n)},0),setTimeout(function(){e.chatHolder.innerHTML+=u.compile(d.loading,{retryAttempt:"Attempting to reconnect",retry:"restart the conversation."})},0),setTimeout(function(){n=e.root.querySelector(".IBMChat-loading");var i=e.root.querySelector(".IBMChat-loading-message-text");n.classList.remove("IBMChat-hidden"),i.textContent=t,l.publish("resize")},0)}function a(){setTimeout(function(){var t=c.get(),e=t.root.querySelector(".IBMChat-loading-container");e&&t.chatHolder.removeChild(e),l.publish("resize")},0)}function s(){var t=c.get();t.input.focus()}var c=n(/*! ../../state */2),l=n(/*! ../../events */1),u=n(/*! ../../utils */3),d=n(/*! ../../templates */7);t.exports={enableInput:i,disableInput:o,enableLoadingInput:r,disableLoadingInput:a,focusInput:s}},/*!****************************************!*\
  !*** ./src/events/handlers/receive.js ***!
  \****************************************/
function(t,e,n){function i(t,e,n){var i=t.message;if(i&&i.action&&i.action.name){var o="action:"+i.action.name;u.hasSubscription(o)?(u.publish(o,t,u.completeEvent),n&&console.log("Call to "+o)):(n&&console.warn("Nothing is subscribed to "+o),e&&u.publish("try-it-action-subscription",o))}u.publish("enable-input"),u.publish("disable-loading"),u.publish("focus-input"),u.publish("scroll-to-bottom")}function o(t,e,n){var i=t.message;if(i&&i.layout&&i.layout.name){var o="layout:"+i.layout.name;u.hasSubscription(o)?setTimeout(function(){u.publish(o,t),n&&console.log("Call to "+o)},10):(n&&console.warn("Nothing is subscribed to "+o),e&&u.publish("try-it-layout-subscription",o))}}function r(t){var e=t.message;e&&e.log_data&&e.log_data.intents&&e.log_data.intents.length>0&&e.log_data.intents[0].intent&&e.log_data.show_intent_link===!0&&u.publish("try-it-get-intent-data",{element:t.intentElement,intent:e.log_data.intents[0].intent})}function a(t){setTimeout(function(){s(t)},0)}function s(t){var e="string"==typeof t?{message:{text:t}}:t;e=c.parse(e);var n=l.get();l.set({messages:[].concat(n.messages||[],e),errorCount:0});var a=e.message,s=a&&a.text?Array.isArray(a.text)&&a.text.length>0?a.text:[a.text]:[""],u=[],f=[],m=[],v=[],b=[],g=document.createElement("div");g.classList.add("IBMChat-watson-turn"),n.chatHolder.appendChild(g);for(var y=0;y<s.length;y++){var x=document.createElement("div"),C=h({},e,{uuid:d.getUUID()});x.classList.add(C.uuid),x.innerHTML=p.receive,u.push(x.querySelector(".IBMChat-watson-message-container")),f.push(document.createElement("div")),m.push(document.createElement("div")),m[y].classList.add("IBMChat-watson-layout"),n.tryIt&&(v.push(document.createElement("div")),v[y].classList.add("IBMChat-watson-intent")),(s[y]&&s[y].length>0||a&&a.layout&&a.layout.name&&y===s.length-1)&&(f[y].classList.add("IBMChat-watson-message"),d.writeMessage(f[y],s[y]),g.appendChild(x)),u[y].appendChild(f[y]),n.tryIt&&u[y].appendChild(v[y]),u[y].appendChild(m[y]),C.element=u[y],C.layoutElement=m[y],C.msgElement=f[y],n.tryIt&&(C.intentElement=v[y]),b.push(C),0===y&&n.tryIt&&r(b[y]),a&&a.layout&&(void 0!==a.layout.index&&a.layout.index==y||void 0===a.layout.index&&y==s.length-1)&&o(b[y],n.tryIt,n.DEBUG),y===s.length-1&&i(b[y],n.tryIt,n.DEBUG)}}var c=n(/*! @watson-virtual-agent/client-sdk/lib/web */5),l=n(/*! ../../state */2),u=n(/*! ../../events */1),d=n(/*! ../../utils */3),h=n(/*! lodash/assign */6),p=n(/*! ../../templates */7);t.exports=a},/*!**************************************!*\
  !*** ./src/events/handlers/reset.js ***!
  \**************************************/
function(t,e,n){function i(){return r.publish("clear-error"),r.publish("scroll-to-bottom"),new window.Promise(function(t,e){var n=o.get(),i=s.getSDKConfig(n);s.checkRoot(n.root)&&e({error:"Element for chat does not exist!"}),n.botID||e({error:"BotID is required!"}),a.configure(i).start(n.botID).then(function(t){r.publish("clear"),r.publish("chatID",t.chatID),r.publish("receive",t)})["catch"](function(t){r.publish("httpError",t)}).then(function(){setTimeout(function(){t()},0)})})}var o=n(/*! ../../state */2),r=n(/*! ../../events */1),a=n(/*! @watson-virtual-agent/client-sdk/lib/web */5),s=n(/*! ../../utils */3);t.exports=i},/*!***************************************!*\
  !*** ./src/events/handlers/resize.js ***!
  \***************************************/
function(t,e,n){function i(t){return window.getComputedStyle(t).getPropertyValue("height").replace("px","")}function o(){clearTimeout(a),a=setTimeout(function(){a=null,r()},50)}function r(){var t=s.get();if(t.isVisible&&t.active){var e=35,n={},o=0,r=0,a=0,u=0,d=t.root.clientHeight,h=t.root.clientWidth,p=d*(e/100),f=p>96?p:96,m=t.input?i(t.inputClone):null,v=t.input?i(t.input):0,b=t.input&&t.input.value&&t.input.value.length>0?t.input.value.replace(/\n/g,"<br />"):"Enter message...",g=t.input?t.inputClone.innerHTML:null,y=function(){return void 0===n.chatHolderHeight&&void 0===n.containerHeight||c.publish("scroll-to-bottom"),void 0!==n.rootWidth||void 0!==n.chatHolderHeight||void 0!==n.rootHeight||void 0!==n.isLarge||void 0!==n.containerHeight||void 0!==n.inputHeight};setTimeout(function(){t.rootHeight!==d&&(t.DEBUG&&l&&console.log("New Root Height:",d),n.rootHeight=d),t.rootWidth!==h&&(t.DEBUG&&l&&console.log("New Root Width:",h),n.rootWidth=h,t.chat.style.width=h+"px",n.rootWidth=h)},0),setTimeout(function(){t.input&&(g!==b&&(t.inputClone.textContent=b,m=i(t.inputClone)),t.inputHeight!==m&&(t.DEBUG&&l&&console.log("Input height does not match:",t.inputHeight,v),v=f>m?m:f),t.inputHeight!==v&&(t.DEBUG&&l&&console.log("New Input Height:",t.inputHeight,v),t.input.style.height=v+"px",n.inputHeight=v)),t.input&&(u=i(t.inputHolder)),r=i(t.chatHolder),a=r,o=Math.floor(d-u)},0),setTimeout(function(){r<o?(r="auto",a=o+"px"):(r=o+"px",a=r),t.containerHeight!==o&&(t.DEBUG&&l&&console.log("New Container Height:",o),t.innerContainer.style.height=o+"px",n.containerHeight=o),t.chatHolderHeight===r&&t.chatHolderMaxHeight===a||(t.DEBUG&&l&&(console.log("New Chat Holder Height: "+r),console.log("New Chat Holder Max Height: "+a)),n.chatHolderHeight=r,n.chatHolderMaxHeight=a,t.chatHolder.style.height=r,t.chatHolder.style.maxHeight=a),h>=480?(t.root.classList.add("IBMChat-isLarge"),t.isLarge||(n.isLarge=!0)):(t.root.classList.remove("IBMChat-isLarge"),t.isLarge&&(n.isLarge=!1)),y()&&s.set(n)},0)}}var a,s=n(/*! ../../state */2),c=n(/*! ../../events */1),l=!1;t.exports=o},/*!*************************************************!*\
  !*** ./src/events/handlers/scroll-to-bottom.js ***!
  \*************************************************/
function(t,e,n){function i(){var t=o.get();setTimeout(function(){t.chatHolder.scrollTop=t.chatHolder.scrollHeight},100)}var o=n(/*! ../../state */2);t.exports=i},/*!***************************************************!*\
  !*** ./src/events/handlers/send-input-message.js ***!
  \***************************************************/
function(t,e,n){function i(){var t=o.get();if(!t.inProgress&&!t.disableInput){var e=t.root.querySelector(".IBMChat-chat-textbox").value.trim().replace(/(\r\n|\n|\r)/gm,"");r.publish("send",{text:e}),e=""}}var o=n(/*! ../../state */2),r=n(/*! ../../events */1);t.exports=i},/*!******************************************!*\
  !*** ./src/events/handlers/send-mock.js ***!
  \******************************************/
function(t,e,n){function i(t){setTimeout(function(){o(t)},0)}function o(t){if(t.text&&t.text.length>0){var e=r.get(),n=c({},t,{uuid:s.getUUID()});e.chatHolder.innerHTML+=s.compile(l.send,{"data.uuid":n.uuid}),e.chatHolder.querySelector("#"+n.uuid+" .IBMChat-user-message").textContent=t.text,a.publish("resize"),a.publish("scroll-to-bottom")}}var r=n(/*! ../../state */2),a=n(/*! ../../events */1),s=n(/*! ../../utils */3),c=n(/*! lodash/assign */6),l=n(/*! ../../templates */7);t.exports=i},/*!*************************************!*\
  !*** ./src/events/handlers/send.js ***!
  \*************************************/
function(t,e,n){function i(t){setTimeout(function(){o(t)},0)}function o(t){if(t&&t.text&&t.text.length>0){var e=d.get();r(t),e.inProgress||l()}}function r(t){var e=d.get(),n=e.sendQueue||[],i=n.slice(0);i.push(t),d.set({sendQueue:i})}function a(t,e){var n=d.get();d.set({errorCount:0,sendQueue:n.sendQueue.slice(1,n.sendQueue.length),messages:[].concat(n.messages||[],t),inProgress:!1}),h.publish("receive",e),h.publish("error-clear"),h.publish("disable-loading"),h.publish("scroll-to-bottom"),d.get().sendQueue.length>0&&l()}function s(){h.publish("httpError",arguments)}function c(t,e){function n(t){var e=Date.now(),n=e-o,i=1e3*r,a=i-n;a>0?setTimeout(function(){t()},a):t()}var i=d.get(),o=Date.now(),r=i.minSeconds;e||h.publish("enable-loading"),h.publish("focus-input"),p.send(i.botID,i.chatID,t.text).then(function(e){n(function(){a(t,e)})})["catch"](function(t){n(function(){s(t)})})}function l(t){var e=d.get(),n=m({},e.sendQueue[0],{uuid:f.getUUID()}),i=n.text||"";d.set({inProgress:!0}),e.root.querySelector(".IBMChat-chat-textbox").value="",n.silent||t||(e.chatHolder.innerHTML+=f.compile(v.send,{"data.uuid":n.uuid}),e.chatHolder.querySelector("#"+n.uuid+" .IBMChat-user-message").textContent=i,h.publish("scroll-to-bottom")),e.handleInput["default"]?c(n,t):e.handleInput.context?e.handleInput.callback.bind(e.handleInput.context,n.text,a,s):e.handleInput.callback(n.text,a,s)}function u(){var t=d.get();t.sendQueue&&t.sendQueue.length>0?l(!0):h.publish("reset")}var d=n(/*! ../../state */2),h=n(/*! ../../events */1),p=n(/*! @watson-virtual-agent/client-sdk/lib/web */5),f=n(/*! ../../utils */3),m=n(/*! lodash/assign */6),v=n(/*! ../../templates */7);t.exports={send:i,retry:u}},/*!**************************************!*\
  !*** ./src/events/handlers/start.js ***!
  \**************************************/
function(t,e,n){function i(t){var e;o.set(t),e=o.get(),r.attachStyles(),e.root.classList.add(e.chatStyleID),e.root.innerHTML=s.start;var n={chat:e.root.querySelector(".IBMChat"),outerContainer:e.root.querySelector(".IBMChat-outer-container"),container:e.root.querySelector(".IBMChat-chat-container"),chatHolder:e.root.querySelector(".IBMChat-messages"),innerContainer:e.root.querySelector(".IBMChat-inner-container")};if(e.playback!==!0){var i=document.createElement("div");i.classList.add("IBMChat-input-container"),i.classList.add("IBMChat-input-container-theme"),i.innerHTML=r.compile(s.input,{placeholder:"Enter message"}),n.outerContainer.appendChild(i),n.inputHolder=e.root.querySelector(".IBMChat-input-container form"),n.inputContainer=e.root.querySelector(".IBMChat-chat-textbox-container"),n.input=e.root.querySelector(".IBMChat-chat-textbox"),n.inputClone=e.root.querySelector(".IBMChat-chat-textbox-clone"),n.form=e.root.querySelector(".IBMChat-input-form"),n.form.addEventListener("submit",function(t){t.preventDefault()}),n.onResize=function(){a.publish("resize")},e.tryIt&&n.chatHolder.addEventListener("click",function(t){if(t.target.dataset&&t.target.dataset.intent){var e=t.target.dataset.intent,n=o.get();t.preventDefault(),n.intents&&n.intents[e]?a.publish("try-it-show-intent",n.intents[e]):console.error("Intent index is undefined",n.intents,e)}}),n.chatHolder.addEventListener("click",function(t){t.target.dataset&&t.target.dataset.retry&&(a.publish("error-clear"),setTimeout(function(){a.publish("enable-loading"),a.publish("reset")},0))}),n.input.addEventListener("keydown",function(t){var e=o.get();13===t.keyCode&&(t.preventDefault(),e.inProgress||(a.publish("send-input-message"),n.inputClone.innerHTML="",n.input.style.overflow="hidden",n.input.style.height=n.originalInputHeight+"px",o.set({inputHeight:n.originalInputHeight}))),a.publish("resize")}),n.input.addEventListener("focus",function(){a.publish("resize")}),n.input.addEventListener("blur",function(){a.publish("resize")})}window.addEventListener("resize",r.debounce(function(){a.publish("resize")},200)),window.addEventListener("orientationchange",function(){a.publish("resize")}),o.setState(n),r.checkVisibility(),r.addResizeListener(e.root,n.onResize),a.publish("resize")}var o=n(/*! ../../state */2),r=n(/*! ../../utils */3),a=n(/*! ../../events */1),s=n(/*! ../../templates */7);t.exports=i},/*!***************************************!*\
  !*** ./src/events/handlers/try-it.js ***!
  \***************************************/
function(t,e,n){function i(t){var e=c.get(),n=e.intents||[],i=n.slice(0),o=i.push(t);return c.set({intents:i}),o-1}function o(t){s.publish("receive",{message:{layout:{name:"error",message:"A subscription was called to "+t+". Nothing is subscribed to this action in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this action."}}})}function r(t){s.publish("receive",{message:{layout:{name:"error",message:"A subscription was called to "+t+". Nothing is subscribed to this layout in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this layout."}}})}function a(t){var e=t.element,n=t.blueprint.label,o=document.createElement("a");o.textContent=n,o.setAttribute("href","javascript:void(0)"),o.setAttribute("data-intent",i(t)),e.appendChild(o)}var s=n(/*! ../../events */1),c=n(/*! ../../state */2);t.exports={actionError:o,layoutError:r,intent:a}},/*!*******************************************!*\
  !*** ./src/layouts/cc-validator/index.js ***!
  \*******************************************/
function(t,e,n){function i(t){this.init(t)}n(/*! ./styles.css */62);var o=n(/*! ../../events */1),r=n(/*! ../../profile */9),a=o.subscribe,s=o.publish,c=n(/*! ../../utils */3),l=n(/*! ./validation */85),u="IBMChat-accent-colors",d="IBMChat-accent-colors-button",h="IBMChat-creditcard",p=[],f={base:n(/*! ./templates/base.html */33)},m={init:function(){a("layout:cc-validator",function(t){var e=new i(t);p[t.uuid]=e})}};i.prototype.init=function(t){this.data=t.message.layout.data||{},this.data.acceptedCards=this.data.types,this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.drawForm(),this.subscribeSend=a("send",this.removeAllEventListeners.bind(this)),s("disable-input")},i.prototype.drawForm=function(){var t=f.base;this.el=document.createElement("div"),t=c.compile(f.base,{ns:h,uuid:c.getUUID()}),this.el.innerHTML=t,this.layoutElement.appendChild(this.el),this.cancelButton=this.el.querySelector("."+h+"-cancel"),this.submitButton=this.el.querySelector("."+h+"-submit"),this.cancelButton.classList.add(d),this.submitButton.classList.add(d),this.formElements={},this.fields=this.el.querySelectorAll("input");for(var e=0;e<this.fields.length;e++){var n=this.fields[e],i=n.getAttribute("name");this.formElements[i]=n}this.formElements.cc_full_name.focus(),this.addListeners()},i.prototype.addListeners=function(){this.cancelButton.addEventListener("click",this.handleCancel.bind(this)),this.submitButton.addEventListener("click",this.handleSubmit.bind(this))},i.prototype.addError=function(t,e){var n,i;"cc_exp_date"===t?(n=this.el.querySelector('[name="cc_exp_date_month"]'),n.setAttribute("aria-invalid",!0),n=this.el.querySelector('[name="cc_exp_date_year"]'),n.setAttribute("aria-invalid",!0)):(n=this.el.querySelector('[name="'+t+'"]'),n.setAttribute("aria-invalid",!0)),i=this.el.querySelector('[data-validation-for="'+t+'"]'),i.style.display="block",i.dataset.valid=!1,i.textContent=e},i.prototype.removeError=function(t){var e,n;"cc_exp_date"===t?(e=this.el.querySelector('[name="cc_exp_date_month"]'),e.removeAttribute("aria-invalid"),e=this.el.querySelector('[name="cc_exp_date_year"]'),e.removeAttribute("aria-invalid")):(e=this.el.querySelector('[name="'+t+'"]'),e.removeAttribute("aria-invalid")),n=this.el.querySelector('[data-validation-for="'+t+'"]'),n.style.display="none",n.dataset.valid=!0,n.textContent=""},i.prototype.validate=function(){var t=!0;0===this.formData.cc_full_name.trim().length?(this.addError("cc_full_name","This field is required."),t&&this.formElements.cc_full_name.focus(),t=!1):this.removeError("cc_full_name");var e=l.validateCard(this.data.acceptedCards,this.formData.cc_number,this.formElements.cc_number);e.valid?this.removeError("cc_number"):(this.addError("cc_number",e.message),t&&this.formElements.cc_number.focus(),t=!1);var n=l.validateExp(this.formData.cc_exp_date_month,this.formData.cc_exp_date_year);n.valid?this.removeError("cc_exp_date"):(this.addError("cc_exp_date",n.message),t&&this.formElements.cc_exp_date_month.focus(),t=!1);var i=l.validateCVV(this.formData.cc_code);return i.valid?this.removeError("cc_code"):(this.addError("cc_code",i.message),t&&this.formElements.cc_code.focus(),t=!1),t},i.prototype.preprocessFormData=function(){this.formData={};for(var t=0;t<this.fields.length;t++){var e=this.fields[t],n=e.getAttribute("name");"cc_exp_date_month"===n&&/^[1-9]$/.test(e.value)&&(e.value="0"+e.value),this.formData[n]=e.value}},i.prototype.handleSubmit=function(){if(this.preprocessFormData(),this.validate()){var t=this.formData;t.cc_exp_date=t.cc_exp_date_month+"/"+t.cc_exp_date_year,t.cc_last_four_digits=t.cc_number.substr(t.cc_number.length-4),Object.keys(t).map(function(e){r.set(e,t[e])}),this.submitButton.classList.remove(d),this.submitButton.classList.add(u),s("enable-input"),s("send",{silent:!0,text:"success"})}},i.prototype.handleCancel=function(){this.cancelButton.classList.remove(d),this.cancelButton.classList.add(u),s("enable-input"),s("send",{silent:!0,text:"cancel"})},i.prototype.removeAllEventListeners=function(){this.cancelButton.removeEventListener("click",this.handleCancel.bind(this)),this.cancelButton.setAttribute("disabled",!0),this.submitButton.removeEventListener("click",this.handleSubmit.bind(this)),this.submitButton.setAttribute("disabled",!0);for(var t=0;t<this.fields.length;t++)this.fields[t].setAttribute("disabled",!0);this.subscribeSend.remove()},t.exports=m},/*!************************************************!*\
  !*** ./src/layouts/cc-validator/validation.js ***!
  \************************************************/
function(t,e){function n(){for(var t=0;t<u.acceptedCards.length;t++)for(var e=h[u.acceptedCards[t]],n=0;n<e.prefixes.length;n++){var i=e.prefixes[n].toString();if(u.cardNumber.substring(0,i.length)===i)return u.cardType=u.acceptedCards[t],!0}return!1}function i(){for(var t,e=0,n=1,i=u.cardNumber.length-1;i>=0;i--)t=Number(u.cardNumber.charAt(i))*n,t>9&&(e+=1,t-=10),e+=t,n=1==n?2:1;return e%10==0}function o(t){return{message:t,valid:!1}}function r(){return{valid:!0}}function a(t,e,a){if(u.acceptedCards=t,u.cardNumber=e.replace(/\D/g,""),0===e.length)return o(d.required);if(0===u.cardNumber.length)return o(d.invalid);if(!n())return o(u.acceptedCards.indexOf(u.cardType)===-1?d.acceptedCard():d.invalid);if(h[u.cardType].lengths.indexOf(u.cardNumber.length)===-1)return o(d.invalid);if(i()===!1)return o(d.invalid);var s=r();return s&&u.cardNumber!==e&&a&&(a.value=u.cardNumber),s}function s(t,e){var n=/^(0[1-9]|1[012])$/,i=/^(20)[0-9][0-9]$/,a=new Date,s=a.getMonth()+1,c=a.getFullYear();if(0===t.length||0===e.length)return o(d.invalidExpiration);var l=!t.match(n)||!e.match(i);t=parseInt(t,10),e=parseInt(e,10);var u=e>c+20||e<c,h=e===c&&t<s;return l||u||h?o(d.invalidExpiration):r()}function c(t){var e=/^[0-9]{3,4}$/;return 0===t.length?o(d.invalidCvv):t.match(e)?r():o(d.invalidCvv)}var l,u={acceptedCards:[],cardNumber:"",cardType:""},d={required:"This field is required.",acceptedCard:function(){var t=u.acceptedCards,e=t.length,n="We accept ";if(1===e)n+=h[t[0]].human;else{var i=t.slice(1,e-1);n+=h[t[0]].human;for(var o=0;o<i.length;o++)n+=", "+h[i[o]].human;n+=" and "+h[t[e-1]].human}return n+=". Please use a valid card."},invalid:"Your credit card number is invalid.",invalidExpiration:"Your credit card expiration date is invalid.",invalidCvv:"Your CVV is invalid."},h={visa:{human:"Visa",prefixes:[4],lengths:[13,16,19]},mastercard:{human:"MasterCard",prefixes:[51,52,53,54,55],lengths:[16]},amex:{human:"American Express",prefixes:[34,37],lengths:[15]},discover:{human:"Discover",prefixes:[6011,65],lengths:[16,19]}};for(l=2221;l<=2720;l++)h.mastercard.prefixes.push(l);for(l=622126;l<=622925;l++)h.discover.prefixes.push(l);for(l=644;l<=649;l++)h.discover.prefixes.push(l);t.exports={validateCard:a,validateExp:s,validateCVV:c,cardData:h}},/*!***************************************************!*\
  !*** ./src/layouts/choose-location-type/index.js ***!
  \***************************************************/
function(t,e,n){function i(t){this.init(t)}n(/*! ./styles.css */63);var o=n(/*! ../../events */1),r=o.subscribe,a=o.publish,s="IBMChat-accent-colors",c="IBMChat-accent-colors-button",l=n(/*! ../../utils */3),u="IBMChat-islocationapi",d=[],h={init:function(){r("layout:choose-location-type",function(t){var e=new i(t);d[t.uuid]=e})}},p={postalcode:"zipcode",geolocation:"latlong"},f={base:n(/*! ./templates/base.html */35)};i.prototype={init:function(t){if(this.data=t.data,this.uuid=t.uuid,"navigator"in window&&"geolocation"in navigator){this.eventListeners=[],this.parentElement=t.element,this.layoutElement=t.layoutElement,this.el=document.createElement("div"),this.el.innerHTML=l.compile(f.base,{ns:u,"values.geolocation":p.geolocation,"values.postalcode":p.postalcode}),this.layoutElement.appendChild(this.el),this.buttons=this.layoutElement.querySelectorAll("button"),this.buttons[0].focus();for(var e=0;e<this.buttons.length;e++)this.buttons[e].dataset.uuid=this.uuid,this.buttons[e].addEventListener("click",this.handleClick),this.eventListeners.push(this.buttons[e]);this.eventListeners.length>0&&(this.subscribeSend=r("send",this.removeAllEventListeners.bind(this)))}else a("send",{text:p.postalcode,silent:!0})},handleClick:function(){var t={silent:!0,text:null};t.text=this.dataset.input,this.classList.add(s),this.classList.remove(c),a("send",t),a("focus-input")},removeAllEventListeners:function(){if(this.eventListeners.length>0){for(var t=0;t<this.eventListeners.length;t++)this.eventListeners[t].removeEventListener("click",this.handleClick),this.eventListeners[t].setAttribute("disabled",!0);this.eventListeners=[]}this.subscribeSend.remove()}},t.exports=h},/*!*************************************!*\
  !*** ./src/layouts/choose/index.js ***!
  \*************************************/
function(t,e,n){function i(t){this.init(t)}n(/*! ./styles.css */64);var o=n(/*! ../../events */1),r=o.subscribe,a=o.publish,s=n(/*! ../../utils */3),c="IBMChat-choose",l="IBMChat-accent-colors",u="IBMChat-accent-colors-button",d=[],h={button:n(/*! ./templates/button.html */37),submit:n(/*! ./templates/submit.html */38)},p={init:function(){r("layout:choose",function(t){var e=new i(t);d[t.uuid]=e}),r("layout:confirm",function(t){var e=new i(t);d[t.uuid]=e})}};i.prototype.init=function(t){this.allowMultiple=void 0!==t.message.inputvalidation.someOf,this.values=[],this.data=this.allowMultiple?t.message.inputvalidation.someOf:t.message.inputvalidation.oneOf,this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.drawButtons(),this.subscribeSend=r("send",this.removeAllEventListeners.bind(this))},i.prototype.eventListeners=[],i.prototype.drawButtons=function(){var t=h.button;this.el=document.createElement("div"),this.el.classList.add(c+"-container");for(var e=0;e<this.data.length;e++){var n=this.data[e],i=document.createElement("div");i.classList.add(c+"-option");var o,r=s.compile(t,{text:n});i.innerHTML=r,this.el.appendChild(i),o=i.querySelector("button"),o.setAttribute("data-uuid",this.uuid),o.classList.add(u),this.addListener(o)}if(this.allowMultiple){var a=document.createElement("div"),d=s.compile(h.submit,{text:"Submit"});a.classList.add(c+"-submit"),a.innerHTML=d,this.submitButton=a.querySelector("button"),this.submitButton.classList.add(l),this.submitButton.setAttribute("disabled",!0),this.el.appendChild(a),this.addSubmitListener(this.submitButton)}this.layoutElement.appendChild(this.el),this.layoutElement.querySelectorAll("button")[0].focus()},i.prototype.handleClick=function(){var t={silent:!0,text:null};t.text=this.dataset.input,this.classList.add(l),this.classList.add("IBMChat-accent-colors"),a("send",t)},i.prototype.handleMultiClick=function(){var t,e=d[this.dataset.uuid];s.hasClass(this,l)?(this.classList.add(u),this.classList.remove(l)):(this.classList.add(l),this.classList.remove(u)),t=e.el.querySelectorAll("."+c+"-option ."+l),t.length>0?e.submitButton.removeAttribute("disabled"):e.submitButton.setAttribute("disabled",!0)},i.prototype.handleSubmit=function(){for(var t=this.el.querySelectorAll("."+l),e=0;e<t.length;e++)this.values.push(t[e].dataset.input);a("send",{silent:!0,text:this.values.toString().slice(0,-1)})},i.prototype.addListener=function(t){this.allowMultiple?t.addEventListener("click",this.handleMultiClick):t.addEventListener("click",this.handleClick),this.eventListeners.push({el:t,cb:this.allowMultiple?this.handleMultiClick:this.handleClick})},i.prototype.addSubmitListener=function(t){t.addEventListener("click",this.handleSubmit.bind(this)),this.eventListeners.push({el:t,cb:this.handleSubmit.bind(this)})},i.prototype.removeAllEventListeners=function(){if(this.eventListeners.length>0){for(var t=0;t<this.eventListeners.length;t++)this.eventListeners[t].el.removeEventListener("click",this.eventListeners[t].cb),this.eventListeners[t].el.setAttribute("disabled",!0);this.eventListeners=[],this.subscribeSend.remove()}},t.exports=p},/*!************************************!*\
  !*** ./src/layouts/error/index.js ***!
  \************************************/
function(t,e,n){function i(t){this.init(t)}n(/*! ./styles.css */65);var o=n(/*! ../../events */1),r=[],a="IBMChat-error",s={init:function(){o.subscribe("layout:error",function(t){var e=new i(t);r[t.uuid]=e})}},c={base:n(/*! ./templates/base.html */40)};i.prototype.init=function(t){this.message=t.message.layout.message,this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.layoutElement.innerHTML=c.base,this.layoutElement.querySelector("."+a).textContent=this.message},t.exports=s},/*!***********************************!*\
  !*** ./src/layouts/form/index.js ***!
  \***********************************/
function(t,e,n){function i(t){this.init(t)}n(/*! ./styles.css */66);var o=n(/*! ../../events */1),r=n(/*! ../../profile */9),a=n(/*! ../../utils */3),s=o.subscribe,c=o.publish,l="IBMChat-form",u="IBMChat-accent-colors",d="IBMChat-accent-colors-button",h={base:n(/*! ./templates/base.html */42),field:n(/*! ./templates/field.html */43)},p=[],f={init:function(){s("layout:form",function(t){var e=new i(t);p[t.uuid]=e})}};i.prototype.init=function(t){this.data=t.message.store||[],this.action=t.message.action||"",this.label=t.message.layout.label||{},this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.drawForm(),this.subscribeSend=s("send",this.removeEventListeners.bind(this)),c("disable-input")},i.prototype.drawForm=function(){var t,e=document.createElement("div");e.innerHTML=a.compile(h.base,{submit:this.label.submit||"Submit",cancel:this.label.cancel||"Cancel"}),t=e.querySelector(".IBMChat-form-fields"),this.data.forEach(function(e){var n=document.createElement("div");n.innerHTML=a.compile(h.field,{label:e.label||"",name:e.name,uuid:a.getUUID(),type:e.type||"text",value:""}),n.className=l+"-fields-row",t.appendChild(n)}),this.fields=t.querySelectorAll("input"),this.submitButton=e.querySelector("."+l+"-submit"),this.cancelButton=e.querySelector("."+l+"-cancel"),this.submitButton.classList.add(d),this.cancelButton.classList.add(d),this.layoutElement.appendChild(e),this.fields[0].focus(),this.addEventListeners()},i.prototype.handleSubmit=function(){if(this.validateFields()===!0){for(var t=0;t<this.fields.length;t++)r.set(this.fields[t].getAttribute("name"),this.fields[t].value);this.submitButton.classList.remove(d),this.submitButton.classList.add(u),c("send",{silent:!0,text:"success"}),c("enable-input")}else this.setFocusOnError()},i.prototype.setFocusOnError=function(){for(var t=0;t<this.fields.length;t++){var e=this.fields[t].getAttribute("name"),n=this.layoutElement.querySelector('[data-validation-for="'+e+'"]');if("false"===n.dataset.valid){this.fields[t].focus();break}}},i.prototype.validateFields=function(){for(var t=!0,e=0;e<this.data.length;e++){var n=this.validateField(this.fields[e],this.data[e]);t=t&&n}return t},i.prototype.validateField=function(t,e){var n=!0;if(t.value&&0!==t.value.trim().length||"true"!=e.required||(this.addError(t.getAttribute("name"),"This field is required."),n=!1),n===!0&&e.validations&&0!==e.validations.length)for(var i=0;i<e.validations.length;i++){var o=e.validations[i],r=o.regex,a=new RegExp(r),s=a.test(t.value);if(!s){this.addError(t.getAttribute("name"),o.message),n=!1;break}}return n},i.prototype.addError=function(t,e){var n=this.layoutElement.querySelector('[name="'+t+'"]'),i=this.layoutElement.querySelector('[data-validation-for="'+t+'"]');n.setAttribute("aria-invalid",!0),i.dataset.valid=!1,i.textContent=e,i.style.display="block"},i.prototype.removeError=function(t){var e=this.layoutElement.querySelector('[name="'+t+'"]'),n=this.layoutElement.querySelector('[data-validation-for="'+t+'"]');e.removeAttribute("aria-invalid"),n.dataset.valid=!0,n.textContent="",n.style.display="none"},i.prototype.removeAllErrors=function(){for(var t=this.layoutElement.querySelectorAll("[data-validation-for]"),e=0;e<t.length;e++)this.removeError(t[e].attr("data-validation-for"))},i.prototype.handleEnter=function(t){13===t.keyCode&&this.handleSubmit()},i.prototype.handleInput=function(t){var e=t.target.name;this.removeError(e)},i.prototype.handleCancel=function(){this.cancelButton.classList.remove(d),this.cancelButton.classList.add(u),c("enable-input"),c("send",{silent:!0,text:"cancel"})},i.prototype.addEventListeners=function(){this.cancelButton.addEventListener("click",this.handleCancel.bind(this)),this.submitButton.addEventListener("click",this.handleSubmit.bind(this));for(var t=0;t<this.fields.length;t++){var e=this.fields[t];e.addEventListener("keypress",this.handleEnter.bind(this)),e.addEventListener("input",this.handleInput.bind(this))}},i.prototype.removeEventListeners=function(){this.cancelButton.removeEventListener("click",this.handleCancel.bind(this)),this.cancelButton.setAttribute("disabled",!0),this.submitButton.removeEventListener("click",this.handleSubmit.bind(this)),this.submitButton.setAttribute("disabled",!0);for(var t=0;t<this.fields.length;t++){var e=this.fields[t];e.removeEventListener("keypress",this.handleEnter.bind(this)),e.removeEventListener("input",this.handleInput.bind(this)),e.setAttribute("disabled",!0)}this.subscribeSend.remove()},t.exports=f},/*!******************************!*\
  !*** ./src/layouts/index.js ***!
  \******************************/
function(t,e,n){var i=n(/*! ./show-locations */93),o=n(/*! ./request-geolocation-latlong */91),r=n(/*! ./request-geolocation-zipcode */92),a=n(/*! ./choose-location-type */86),s=n(/*! ./choose */87),c=n(/*! ./form */89),l=n(/*! ./cc-validator */84),u=n(/*! ./error */88);t.exports={showLocations:i,requestGeolocationLatlong:o,requestGeolocationZipcode:r,chooseLocationType:a,choose:s,creditCard:l,form:c,error:u}},/*!**********************************************************!*\
  !*** ./src/layouts/request-geolocation-latlong/index.js ***!
  \**********************************************************/
function(t,e,n){function i(t){this.init(t)}var o=n(/*! ../../events */1),r=o.subscribe,a=o.publish,s=[],c=2e4,l={init:function(){r("layout:request-geolocation-latlong",function(t){var e=new i(t);s[t.uuid]=e})}};i.prototype={init:function(t){this.data=t.data,this.uuid=t.uuid,this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.timedOut=!1,this.timeoutCheck=setTimeout(function(){this.timedOut=!0,this.handleLocationNotShared()}.bind(this),c),a("enable-loading"),a("disable-input");try{var e=this.msgElement;navigator.permissions.query({name:"geolocation"}).then(function(t){"granted"===t.state&&(e.textContent="Finding your current location.")})}catch(n){console.log("navigator.permissions not supported.")}navigator.geolocation.getCurrentPosition(function(t){return!this.timedOut&&(clearTimeout(this.timeoutCheck),void this.handleLocationShared(t))}.bind(this),function(){return!this.timedOut&&(clearTimeout(this.timeoutCheck),void this.handleLocationNotShared())}.bind(this))},handleLocationShared:function(t){a("enable-input"),a("disable-loading"),a("send",{text:t.coords.latitude+","+t.coords.longitude,silent:!0})},handleLocationNotShared:function(){a("enable-input"),a("disable-loading"),a("receive","You haven't shared your location on this website."),a("send",{text:"find nearest locations",silent:!0})}},t.exports=l},/*!**********************************************************!*\
  !*** ./src/layouts/request-geolocation-zipcode/index.js ***!
  \**********************************************************/
function(t,e,n){var i=n(/*! ../../events */1),o=i.subscribe,r={init:function(){o("layout:request-geolocation-zipcode",function(){})}};t.exports=r},/*!*********************************************!*\
  !*** ./src/layouts/show-locations/index.js ***!
  \*********************************************/
function(t,e,n){function i(t){for(var e=0;e<x.length;e++)if(e===x.length-1||x[e]>=t)return void(B=e)}function o(){var t=v.get();return t.rootWidth||t.root.clientWidth}function r(){var t=o(),e=x[B]>=t;return e}function a(){if(w.length>0&&!r())for(var t=o(),e=0;e<x.length;e++)if(e===x.length-1||0===e&&t>=x[e]){B=e;for(var n=0;n<w.length;n++)I[w[n]].data.length>0&&I[w[n]].reDrawMap();return}}function s(t,e){var n=document.createElement("a");if(n.setAttribute("href","mailto:"+e.email),n.setAttribute("target","_blank"),n.textContent=e.email,e.phones&&e.phones.length>0){var i=document.createElement("div"),o=E.createDomArray;i.className=_+"-contact-row",i.innerHTML=b.compile(o,{ns:_});var r=i.querySelector("."+_+"-contact-type"),a=i.querySelector("."+_+"-contact-data");r.textContent="Email",a.appendChild(n),t.appendChild(i)}else t.appendChild(n)}function c(t,e){if(e)for(var n=0;n<e.length;n++){var i=document.createElement("div"),o=E.createDomArray;i.className=_+"-contact-row",i.innerHTML=b.compile(o,{ns:_});var r=i.querySelector("."+_+"-contact-type"),a=i.querySelector("."+_+"-contact-data");r.textContent=e[n].type,a.textContent=e[n].number,t.appendChild(i)}}function l(t){try{var e=t.split(":"),n=e[0],i=e[1],o=n>=12?"pm":"am";return n%=12,n=n?n:12,n+":"+i+" "+o}catch(r){return!1}}function u(t,e,n,i,o){if(n){if(n.length<7)for(var r=n.length;r<7;r++)n.push({isOpen:!1});var a=(new Date).getDay(),s=n[a],c=document.createElement("div");if(s&&s.isOpen){var u=l(s.open),d=l(s.close);u&&d?c.innerHTML=b.compile(E.hoursTodayOpen,{ns:_,open:u,close:d}):c.innerHTML=b.compile(E.hoursTodayUnknown,{ns:_})}else c.innerHTML=b.compile(E.hoursTodayClosed,{ns:_});if(b.appendToEach(t,c),i){var h=document.createElement("div");h.innerHTML=b.compile(E.hoursTimezone,{ns:_,timezone:i}),b.appendToEach(o,h)}else for(var p=0;p<o.length;p++)o[p].parentNode.removeChild(o[p]);for(var f=[],m={},v=0;v<n.length;v++){var g,y,x=C[v],I=f.length>0&&f[f.length-1];m=n[v]||{isOpen:!1},g=I&&I.isOpen===m.isOpen&&m.isOpen===!1,y=I&&I.open===m.open&&I.close===m.close&&I.isOpen===m.isOpen,f.length>0&&I&&(g||y)?I.endDay=x:f.push({startDay:x,endDay:x,isOpen:m.isOpen,open:m.open,close:m.close})}for(var w=0;w<f.length;w++){var B=document.createElement("span");if(B.setAttribute("class",_+"-days-hours"),m=f[w],m&&m.isOpen){var M=l(m.open),L=l(m.close),S=m.startDay===m.endDay?m.startDay:m.startDay+"&ndash;"+m.endDay;M&&L?B.innerHTML=b.compile(E.hoursOpen,{ns:_,day:S,open:M,close:L}):B.innerHTML=b.compile(E.hoursUnknown,{ns:_,day:S})}else B.innerHTML=b.compile(E.hoursClosed,{ns:_,day:m.startDay===m.endDay?m.startDay:m.startDay+"&ndash;"+m.endDay});w<f.length-1&&(B.querySelector("."+_+"-days-hours-hours").innerHTML+="<br />"),b.appendToEach(e,B)}}}function d(t){if(t.distance){var e=0===t.distance.toFixed(1)?.1:t.distance.toFixed(1),n="miles"===t.distanceMeasure?"m":"km";return e+n}}function h(t){this.init(t)}n(/*! ./styles.css */67);var p=n(/*! ../../events */1),f=p.subscribe,m=p.publish,v=n(/*! ../../state */2),b=n(/*! ../../utils */3),g=!0,y=3,x=["768","640","512","480","360"],C=["Su","M","Tu","W","Th","F","Sa"],I={},w=[],B=0,M=window.devicePixelRatio||1,_="IBMChat-map",E={base:n(/*! ./templates/base.html */47),createDomArray:n(/*! ./templates/create-dom-array.html */48),addLocationsItem:n(/*! ./templates/add-locations-item.html */46),addLocationItem:n(/*! ./templates/add-location-item.html */45),hoursClosed:n(/*! ./templates/hours-closed.html */49),hoursOpen:n(/*! ./templates/hours-open.html */50),hoursUnknown:n(/*! ./templates/hours-unknown.html */55),hoursTodayOpen:n(/*! ./templates/hours-today-open.html */53),hoursTodayClosed:n(/*! ./templates/hours-today-closed.html */52),hoursTodayUnknown:n(/*! ./templates/hours-today-unknown.html */54),hoursTimezone:n(/*! ./templates/hours-timezone.html */51)},L={locations:{none:"We could not find any locations close to you.",single:"Here are the details for this location:",list:"Here are the locations I found close to you:"}},S={init:function(){f("layout:show-locations",function(t){var e=new h(t);0===w.length&&f("resize",a),w.push(t.uuid),I[t.uuid]=e})}},k=["A","B","C","D","E","F","G"];h.prototype.init=function(t){switch(this.data=void 0!==t.message.data&&void 0!==t.message.data.location_data?t.message.data.location_data:[],this.data.length>1&&v.set({location_data:this.data}),this.eventListeners=[],this.parentElement=t.element,this.layoutElement=t.layoutElement,this.msgElement=t.msgElement,this.data.length){case 0:this.msgElement.textContent=L.locations.none;break;case 1:this.msgElement.textContent=L.locations.single;break;default:this.msgElement.textContent=L.locations.list}if(this.data.length>0){var e=E.base;this.uuid=t.uuid,g&&(i(o()),g=!1),this.map=document.createElement("div"),this.map.innerHTML=b.compile(e,{ns:_}),this.mapElement=this.map.querySelector("."+_+"-img"),this.dataElement=this.map.querySelector("."+_+"-data"),this.data.length>1&&this.mapElement.appendChild(this.drawLocations()),this.dataElement.appendChild(this.addDetails()),this.layoutElement.appendChild(this.map),this.data.length>1&&this.layoutElement.querySelectorAll("."+_+"-locations-item")[0].focus()}this.subscribeReceive=f("receive",this.removeAllEventListeners,this)},h.prototype.reDrawMap=function(){this.mapElement.innerHTML="",this.data.length>1&&this.mapElement.appendChild(this.drawLocations())},h.prototype.addDetails=function(){return this.data.length>1?this.addLocations():this.addLocation()},h.prototype.convertColor=function(t){return b.normalizeToHex(t).replace("#","")},h.prototype.drawLocations=function(){var t=v.get(),e=document.createElement("img"),n=o(),i={size:n+"x120",scale:M};1===this.data.length&&(i.zoom=12),this.uri=t.mapsServer+"?",this.uri+=b.serialize(i),this.uri+="&locations=";for(var r="",a=0;a<y&&a<this.data.length;a++){var s=this.data[a];r+=0===a?s.address.lat+","+s.address.lng:"+"+s.address.lat+","+s.address.lng}return this.uri+=encodeURIComponent(r),this.uri+="&color="+encodeURIComponent(this.convertColor(t.styles.accentBackground)),e.setAttribute("src",this.uri),e},h.prototype.handleClick=function(){this.className=_+"-location-active",m("receive",{message:{text:[b.compile(L.locations.single,{location:I[this.dataset.uuid].data[this.dataset.id-1].address.address}),"Is there anything else I can help you with?"],layout:{name:"show-locations",index:0},data:{location_data:[I[this.dataset.uuid].data[this.dataset.id-1]]}}})},h.prototype.removeAllEventListeners=function(){var t=document.querySelector("."+this.uuid+" .IBMChat-watson-layout");t.classList.add("IBMChat-disabled-layout");for(var e=t.querySelectorAll("input, button"),n=0;n<e.length;n++)e[n].setAttribute("disabled",!0);for(var i=0;i<this.eventListeners.length;i++)this.eventListeners[i].removeEventListener("click",this.handleClick);this.hoursFunction&&this.hoursButton.removeEventListener("click",this.hoursFunction),this.locationsFunction&&this.locationsButton.removeEventListener("click",this.locationsFunction),this.eventListeners=[],this.subscribeReceive.remove()},h.prototype.addLocation=function(){var t=document.createElement("div"),e=document.createElement("div"),n=v.get().location_data,i=this.data[0],o=function(t){var e=E.addLocationItem;return t.innerHTML=b.compile(e,{ns:_}),{link:t.querySelector("."+_+"-locations-item-data-address-link"),label:t.querySelector("."+_+"-locations-item-data-title"),address:t.querySelector("."+_+"-locations-item-data-address"),phone:t.querySelector("."+_+"-locations-item-data-phone"),email:t.querySelector("."+_+"-locations-item-data-email"),hours:t.querySelectorAll("."+_+"-locations-item-data-hours"),timezone:t.querySelectorAll("."+_+"-locations-item-data-timezone"),moreHours:t.querySelectorAll("."+_+"-locations-item-data-more-hours"),distance:t.querySelector("."+_+"-locations-item-distance"),backHolder:t.querySelector("."+_+"-locations-all-holder"),back:t.querySelector("."+_+"-locations-all"),parentEl:t.querySelector("."+_+"-locations-item")}},r=o(e);if(i.label?r.label.textContent=i.label:r.parentEl.removeChild(r.label),r.address.textContent=i.address.address,r.link.setAttribute("href","https://maps.google.com/?q="+encodeURIComponent(i.address.address)),r.link.setAttribute("target","_blank"),r.distance.textContent=d(i)||"",i.email?s(r.email,i):r.email.parentNode.removeChild(r.email),i.phones&&i.phones.length>0?c(r.phone,i.phones):r.phone.parentNode.removeChild(r.phone),i.days)u(r.hours,r.moreHours,i.days,i.address.timezone,r.timezone);else{for(var a=0;a<r.hours;a++)r.hours[a].parentNode.removeChild(r.hours[a]);for(var l=0;l<r.timezone;l++)r.timezone[l].parentNode.removeChild(r.timezone[l]);for(var h=0;h<r.moreHours;a++)r.moreHours[h].parentNode.removeChild(r.moreHours[h])}return n&&n.length>1?(this.locationsButton=r.back,this.locationsFunction=function(t){t.preventDefault(),m("receive",{message:{text:[L.locations.list,"Is there anything else I can help you with?"],layout:{name:"show-locations",index:0},data:{location_data:n}}})},r.back.addEventListener("click",this.locationsFunction)):r.backHolder.parentNode.removeChild(r.backHolder),t.appendChild(e),t},h.prototype.addLocations=function(){for(var t=v.get(),e=function(e,n,i){e.addEventListener("click",this.handleClick),e.dataset.uuid=i,e.dataset.id=n+1;var o=E.addLocationsItem;e.innerHTML=b.compile(o,{ns:_,title:r.label||"",address:r.address.address,iconText:k[n],accentText:t.styles.accentText,accentBackground:t.styles.accentBackground,distance:d(r)||""}),this.eventListeners.push(e)},n=document.createElement("div"),i=0;i<y&&i<this.data.length;i++){var o=document.createElement("div"),r=this.data[i];e.call(this,o,i,this.uuid),n.appendChild(o)}return n},t.exports=S},/*!***********************!*\
  !*** ./src/styles.js ***!
  \***********************/
function(t,e){var n={background:"rgba(61, 61, 61, 1)",accentBackground:"#BA8FF7",accentText:"#ffffff",text:"#ffffff",link:"#AF6EE8",secondaryBackground:"rgba(90, 90, 90, 1)",secondaryText:"rgba(247, 247, 247, 1)",inputBackground:"rgba(90, 90, 90, 1)",inputText:"rgba(247, 247, 247, 1)",errorBackground:"#e86e6e",errorText:"#ffffff",fontSize:"15px",fontFamily:'"Helvetica Neue",HelveticaNeue,Helvetica,sans-serif'};t.exports=n},/*!*****************************!*\
  !*** ./src/utils/resize.js ***!
  \*****************************/
function(t,e){function n(t){var e=t.target||t.srcElement;e.__resizeRAF__&&r(e.__resizeRAF__),e.__resizeRAF__=o(function(){var n=e.__resizeTrigger__;n.__resizeListeners__.forEach(function(e){e&&"function"==typeof e&&e.call(n,t)})})}function i(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)}var o=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}(),r=function(){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}(),a=function(t,e){if(!t.__resizeListeners__)if(t.__resizeListeners__=[],document.attachEvent)t.__resizeTrigger__=t,t.attachEvent("onresize",n);else{var o=t.__resizeTrigger__=document.createElement("object");"static"==getComputedStyle(t).position&&(t.style.position="relative"),o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),o.__resizeElement__=t,o.onload=i,o.type="text/html",t.appendChild(o)}t.__resizeListeners__.push(e)},s=function(t,e){t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(document.attachEvent?t.detachEvent("onresize",n):t.__resizeTrigger__.contentDocument&&(t.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",n),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)))};t.exports={addResizeListener:a,removeResizeListener:s}},/*!*****************************!*\
  !*** ./src/utils/styles.js ***!
  \*****************************/
function(t,e,n){function i(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}function o(t){var e="."+t.chatStyleID,n=s(a(t.styles.background)),i="rgba("+n[0]+","+n[1]+","+n[2]+",0.8)",o="rgba("+n[0]+","+n[1]+","+n[2]+",0)",c=e+"{ overflow:hidden;}";return c+=e+" .IBMChat-outer-container {font-size: "+t.styles.fontSize+"; line-height: "+t.styles.fontSize+"; font-family: "+t.styles.fontFamily+";}",c+=e+" .IBMChat-outer-container textarea {font-size: "+t.styles.fontSize+"; font-family: "+t.styles.fontFamily+";}",c+=e+" .IBMChat-default-colors {background-color: "+t.styles.background+"; color: "+t.styles.text+";}",c+=e+" .IBMChat-secondary-colors {background-color: "+t.styles.secondaryBackground+"; color: "+t.styles.secondaryText+";}",c+=e+" .IBMChat-secondary-colors-button {background-color: transparent; border: 1px solid "+t.styles.secondaryBackground+"; color: "+t.styles.secondaryBackground+";}",c+=e+" .IBMChat-accent-colors {background-color: "+t.styles.accentBackground+"; border: 1px solid "+t.styles.accentBackground+"; color: "+t.styles.accentText+";}",c+=e+" .IBMChat-accent-colors-button {background-color: transparent; border: 1px solid "+t.styles.accentBackground+"; color: "+t.styles.accentBackground+";}",c+=e+" .IBMChat-accent-colors-button:hover {background-color: "+t.styles.accentBackground+"; border: 1px solid "+t.styles.accentBackground+"; color: "+t.styles.accentText+";}",c+=e+" .IBMChat-accent-colors-button[disabled]:hover {background-color: transparent; border: 1px solid "+t.styles.accentBackground+"; color: "+t.styles.accentBackground+";}",c+=e+" .IBMChat-error-colors {background-color: "+t.styles.errorBackground+"; color: "+t.styles.errorText+";}",c+=e+" .IBMChat-input-colors {background-color: "+t.styles.inputBackground+"; color: "+t.styles.inputText+"; border-bottom: 1px solid "+t.styles.inputText+";}",c+=e+" .IBMChat-watson-message-line {border-left: 3px solid "+t.styles.accentBackground+";}",c+=e+" a {border: 0; color: "+t.styles.link+"; font-weight: normal; text-decoration: none; font-size:1em;}",c+=e+" a:hover, ",c+=e+" a:visited, ",c+=e+" a:active {color: "+t.styles.link+"; font-weight: normal; text-decoration: underline; font-size:1em;}",c+=e+" .IBMChat-chat-textbox {border-bottom: solid 1px "+t.styles.text+";}",c+=e+" .IBMChat-chat-textbox:focus {border-bottom: solid 2px "+t.styles.accentBackground+";}",c+=e+" ::-webkit-input-placeholder {color: "+r(t.styles.inputText,t.styles.inputBackground)+";}",c+=e+" ::-moz-placeholder {color: "+r(t.styles.inputText,t.styles.inputBackground)+"; opacity: 1;}",c+=e+" :-ms-input-placeholder {color: "+r(t.styles.inputText,t.styles.inputBackground)+"; opacity: 1;}",c+=e+" .IBMChat-ball {fill: "+a(t.styles.accentBackground)+";}",c+=e+" .IBMChat-fade {left: 0; height: 10%; max-height: 32px; position: absolute; top: 0; width: 100%; z-index: 2; background: linear-gradient(to bottom, "+i+" 0%, "+o+" 100%);}",c+=e+" .IBMChat-loading-message {color: "+r(t.styles.inputText,t.styles.inputBackground)+";}"}function r(t,e){var n=s(a(t)),i=s(a(e)),o=.6,r=2*o-1,c=(r+1)/2,l=1-c,u=[parseInt(n[0]*c+i[0]*l),parseInt(n[1]*c+i[1]*l),parseInt(n[2]*c+i[2]*l)],d="rgb("+u[0]+","+u[1]+","+u[2]+")";return a(d)}function a(t){function e(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&4===t.length?("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}return t.indexOf("#")>-1?t:"#"+e(t)}function s(t){var e=[];return t=t.replace("#",""),e.push(parseInt(t.substring(0,2),16)),e.push(parseInt(t.substring(2,4),16)),e.push(parseInt(t.substring(4,6),16)),e}function c(t,e){var n=s(t),i=n[0],o=n[1],r=n[2];return"rgba("+i+","+o+","+r+","+e/100+")"}function l(t){var e=d.get()[t],n=o(e);i(n)}function u(){var t=d.get(),e=o(t);i(e)}var d=n(/*! ../state */2);t.exports={attachStyles:u,attachPlaybackStyles:l,convertHexToRGBA:c,normalizeToHex:a}},/*!***********************************!*\
  !*** ./src/utils/writeMessage.js ***!
  \***********************************/
function(t,e){function n(t,e){new i(t,e)}function i(t,e){this.init(t,e)}function o(t){return t.startsWith("http://")||t.startsWith("https://")?t:"http://"+t}i.prototype.init=function(t,e){if(e){var n=this,i=[{type:"span",content:e}];this.addLineEndings(i).then(n.addUrls).then(n.addEmails).then(function(e){n.writeMessage(t,e)})["catch"](function(t){console.error(t)})}},i.prototype.writeMessage=function(t,e){e.map(function(e){var n=document.createElement(e.type);e.content&&(n.textContent=e.content),e.attributes&&Object.keys(e.attributes).map(function(t){n.setAttribute(t,e.attributes[t])}),t.appendChild(n)})},i.prototype.addLineEndings=function(t){return new window.Promise(function(e,n){try{for(var i=[],o=0;o<t.length;o++){var r=t[o].content.split("\n");r.map(function(t,e){t&&i.push({content:t,type:"span"}),r.length!=e+1&&i.push({type:"br"})})}e(i)}catch(a){n(a)}})},i.prototype.addUrls=function(t){return new window.Promise(function(e,n){try{for(var i=[],r=0;r<t.length;r++)if(t[r].content){var a=/(((https?:\/\/)|(www\.))[^\s]+)/gi,s=t[r].content.replace(a,"|||$1|||"),c=s.split("|||");c.map(function(e){var n=e.replace(a,'<a href="$1" target="_blank">$1</a>');n===e?i.push({content:e,type:t[r].type,attributes:t[r].attributes}):i.push({content:e,type:"a",attributes:{href:o(e),target:"_blank"}})})}else i.push({type:t[r].type,content:t[r].content,attributes:t[r].attributes});e(i)}catch(l){n(l)}})},i.prototype.addEmails=function(t){return new window.Promise(function(e,n){try{for(var i=[],o=0;o<t.length;o++)if(t[o].content){var r=/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi,a=t[o].content.replace(r,"|||$1|||"),s=a.split("|||");s.map(function(e){var n=e.replace(r,'<a href="mailto:$1" target="_blank">$1</a>');n===e?i.push({content:e,type:t[o].type,attributes:t[o].attributes}):i.push({content:e,type:"a",attributes:{href:"mailto:"+e,target:"_blank"}})})}else i.push({type:t[o].type,content:t[o].content,attributes:t[o].attributes});e(i)}catch(c){n(c)}})},t.exports=n},/*!************************************!*\
  !*** template of 67 referencing 4 ***!
  \************************************/
function(t,e,n,i){var o=n(i);"string"==typeof o&&(o=[[t.id,o,""]]);n(/*! ./../../../~/style-loader/addStyles.js */4)(o,{});o.locals&&(t.exports=o.locals)}]))});
//# sourceMappingURL=chat.js.map